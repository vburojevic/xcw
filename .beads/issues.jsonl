{"id":"XcodeConsoleWatcher-04z","title":"Repo: track Beads issues.jsonl in git","description":"Remove the top-level /.beads ignore so Beads artifacts can be committed. Keep ignoring SQLite/daemon runtime files via .beads/.gitignore, but commit issues.jsonl + metadata/config + README.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-15T00:36:13.769114+01:00","updated_at":"2025-12-15T00:37:51.609737+01:00","closed_at":"2025-12-15T00:37:51.609737+01:00","comments":[{"id":39,"issue_id":"XcodeConsoleWatcher-04z","author":"vedranburojevic","text":"Stopped ignoring /.beads and committed Beads artifacts for git sync (issues.jsonl + metadata/config + README). Added .local_version to .beads/.gitignore.\\n\\nCommit: 51fe38e","created_at":"2025-12-14T23:37:47Z"}]}
{"id":"XcodeConsoleWatcher-0mc","title":"Streamer shutdown hygiene","description":"Ensure Streamer.Stop waits/cleans up goroutines, closes channels, and avoids leaks; consider adding Wait or context-based shutdown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.127458+01:00","updated_at":"2025-12-11T22:00:01.127338+01:00","closed_at":"2025-12-11T22:00:01.127339+01:00"}
{"id":"XcodeConsoleWatcher-1o1","title":"Normalize error handling","description":"Single emitWarning/emitError respecting format/quiet across commands.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:03.44006+01:00","updated_at":"2025-12-11T12:19:26.350693+01:00","closed_at":"2025-12-11T12:19:26.350693+01:00"}
{"id":"XcodeConsoleWatcher-1wb","title":"Flag doctor guard","description":"Centralize mutually exclusive/dependent flag validation and add tests (dry-run-json+tmux, quiet+text, machine-friendly=\u003endjson).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:42.625419+01:00","updated_at":"2025-12-11T12:49:41.985086+01:00","closed_at":"2025-12-11T12:49:41.985086+01:00"}
{"id":"XcodeConsoleWatcher-327","title":"Add CONTRIBUTING and roadmap","description":"Add CONTRIBUTING.md, templates, and short roadmap to improve community hygiene.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:17.106525+01:00","updated_at":"2025-12-11T22:00:01.12198+01:00","closed_at":"2025-12-11T22:00:01.121981+01:00"}
{"id":"XcodeConsoleWatcher-33o","title":"Next: tests + docs recipes + perf guardrails","description":"Follow-up work after v0.19.0/0.19.1: add more coverage for resume/backfill + watch triggers, expand README recipes for agents, add perf regression guardrails, and improve diagnostics for gaps/backfills.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-14T23:20:24.878459+01:00","updated_at":"2025-12-14T23:39:55.865753+01:00","closed_at":"2025-12-14T23:39:55.865753+01:00","comments":[{"id":15,"issue_id":"XcodeConsoleWatcher-33o","author":"vedranburojevic","text":"Created follow-up tasks: 33o.1 (resume tests), 33o.2 (docs recipes), 33o.3 (bench guard), 33o.4 (gap/backfill diagnostics).","created_at":"2025-12-14T22:20:52Z"},{"id":20,"issue_id":"XcodeConsoleWatcher-33o","author":"vedranburojevic","text":"Completed 33o.1 (resume state unit tests) in commit ec48a2b. Next up: 33o.2 docs recipes, 33o.4 diagnostics, 33o.3 perf guard.","created_at":"2025-12-14T22:24:49Z"},{"id":27,"issue_id":"XcodeConsoleWatcher-33o","author":"vedranburojevic","text":"All child tasks complete: 33o.1 (resume tests, ec48a2b), 33o.2 (README recipes, 8a16d9c), 33o.4 (resume backfill diagnostics, 0101083), 33o.3 (CI bench guard, 8df57d9).","created_at":"2025-12-14T22:39:50Z"}]}
{"id":"XcodeConsoleWatcher-33o.1","title":"Tests: resume state helpers","description":"Add unit tests for resume state persistence and timestamp parsing (internal/cli/resume_state.go). Acceptance: tests cover default path (HOME override), save/load round-trip, missing file behavior, and RFC3339/RFC3339Nano parsing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T23:20:29.25555+01:00","updated_at":"2025-12-14T23:24:44.661075+01:00","closed_at":"2025-12-14T23:24:44.661075+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-33o.1","depends_on_id":"XcodeConsoleWatcher-33o","type":"parent-child","created_at":"2025-12-14T23:20:29.256278+01:00","created_by":"vedranburojevic"}],"comments":[{"id":19,"issue_id":"XcodeConsoleWatcher-33o.1","author":"vedranburojevic","text":"Done in commit ec48a2b: added internal/cli/resume_state_test.go covering default path (HOME override), save/load round-trip, missing file behavior, and RFC3339/RFC3339Nano parsing. Verified: go test ./...","created_at":"2025-12-14T22:24:38Z"}]}
{"id":"XcodeConsoleWatcher-33o.2","title":"Docs: recipes for watch triggers + tail --resume","description":"Expand README with concrete examples: watch trigger correlation (trigger/trigger_result/trigger_error), trigger output modes, and tail --resume (resume-state path, gap_detected/gap_filled semantics, recommended agent behavior).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T23:20:38.474174+01:00","updated_at":"2025-12-14T23:31:38.867756+01:00","closed_at":"2025-12-14T23:31:38.867756+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-33o.2","depends_on_id":"XcodeConsoleWatcher-33o","type":"parent-child","created_at":"2025-12-14T23:20:38.474927+01:00","created_by":"vedranburojevic"}],"comments":[{"id":21,"issue_id":"XcodeConsoleWatcher-33o.2","author":"vedranburojevic","text":"Starting README expansion: add concrete watch trigger recipes (correlation + output modes) and tail --resume guidance (state file, gap_detected/gap_filled semantics, recommended agent behavior).","created_at":"2025-12-14T22:28:47Z"},{"id":22,"issue_id":"XcodeConsoleWatcher-33o.2","author":"vedranburojevic","text":"Done in commit 8a16d9c: README now includes concrete recipes for tail --resume (state file + gap_detected/gap_filled semantics) and watch triggers (trigger/trigger_result/trigger_error correlation + trigger output modes). Verified: go test ./...","created_at":"2025-12-14T22:31:34Z"}]}
{"id":"XcodeConsoleWatcher-33o.3","title":"Perf: add benchmark regression guard","description":"Add/extend benchmarks for hot paths (parser/filter/where/dedupe) and wire a lightweight CI check to detect major regressions (at least on ubuntu-latest).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T23:20:43.966258+01:00","updated_at":"2025-12-14T23:39:32.944968+01:00","closed_at":"2025-12-14T23:39:32.944968+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-33o.3","depends_on_id":"XcodeConsoleWatcher-33o","type":"parent-child","created_at":"2025-12-14T23:20:43.967434+01:00","created_by":"vedranburojevic"}],"comments":[{"id":25,"issue_id":"XcodeConsoleWatcher-33o.3","author":"vedranburojevic","text":"Adding a lightweight benchmark regression guard in CI (ubuntu-latest PRs): run key package benchmarks on base vs head and fail on large regressions.","created_at":"2025-12-14T22:37:28Z"},{"id":26,"issue_id":"XcodeConsoleWatcher-33o.3","author":"vedranburojevic","text":"Done in commit 8df57d9: added scripts/benchguard and a CI bench-guard job (ubuntu-latest PRs) that runs key package benchmarks on base vs head and fails on large regressions.","created_at":"2025-12-14T22:39:27Z"}]}
{"id":"XcodeConsoleWatcher-33o.4","title":"Diagnostics: improve gap/backfill observability","description":"Improve user/agent diagnostics for resume/backfill: clearer warnings on backfill failure, include details (max_gap/limit), and document expected ordering/semantics.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T23:20:48.181441+01:00","updated_at":"2025-12-14T23:34:44.242597+01:00","closed_at":"2025-12-14T23:34:44.242597+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-33o.4","depends_on_id":"XcodeConsoleWatcher-33o","type":"parent-child","created_at":"2025-12-14T23:20:48.18223+01:00","created_by":"vedranburojevic"}],"comments":[{"id":23,"issue_id":"XcodeConsoleWatcher-33o.4","author":"vedranburojevic","text":"Working on resume/backfill diagnostics: make restart backfill failures non-fatal and improve warning context (reason/window/max_gap/limit).","created_at":"2025-12-14T22:33:13Z"},{"id":24,"issue_id":"XcodeConsoleWatcher-33o.4","author":"vedranburojevic","text":"Done in commit 0101083: resume backfill is now best-effort (restart backfill failures no longer abort tail) and warnings include reason/window/max_gap/limit for easier debugging. Verified: go test ./...","created_at":"2025-12-14T22:34:40Z"}]}
{"id":"XcodeConsoleWatcher-38y","title":"Deduplicate raw NDJSON log structs","description":"Remove duplicate RawLogEntry/RawNDJSONEntry types; keep one canonical struct in domain and reuse in simulator/parser.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:15.924887+01:00","updated_at":"2025-12-11T22:00:01.128285+01:00","closed_at":"2025-12-11T22:00:01.128286+01:00"}
{"id":"XcodeConsoleWatcher-3lg","title":"Help: document watch + dry-run-json in xcw help --json","description":"Update internal/cli/help.go so machine-readable help (docs/help.json) includes:\n- watch command docs + examples\n- --dry-run-json examples for tail/query/watch\n\nAcceptance:\n- xcw help --json includes watch command with correct output types.\n- xcw help --json includes dry-run-json examples for tail/query/watch.\n- make docs schema and go test ./... pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T01:16:43.991626+01:00","updated_at":"2025-12-15T01:18:42.155611+01:00","closed_at":"2025-12-15T01:18:42.155611+01:00","comments":[{"id":46,"issue_id":"XcodeConsoleWatcher-3lg","author":"vedranburojevic","text":"Added watch command docs + dry-run-json examples to xcw help --json (internal/cli/help.go) and regenerated docs.\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:18:16Z"}]}
{"id":"XcodeConsoleWatcher-41y","title":"Schema drift CI guard","description":"Add check to compare generated.schema.json against code to prevent drift.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:55.780302+01:00","updated_at":"2025-12-11T12:49:51.807186+01:00","closed_at":"2025-12-11T12:49:51.807186+01:00"}
{"id":"XcodeConsoleWatcher-464","title":"UTC timestamp consistency","description":"Ensure all emitted timestamps use time.Now().UTC().","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:15.165226+01:00","updated_at":"2025-12-11T12:06:57.603929+01:00","closed_at":"2025-12-11T12:06:57.603929+01:00"}
{"id":"XcodeConsoleWatcher-4fk","title":"Cache simctl device listings","description":"Add short TTL cache for Manager.ListDevices to reduce repeated simctl calls during tail/discover/apps.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.198041+01:00","updated_at":"2025-12-11T22:00:01.12703+01:00","closed_at":"2025-12-11T22:00:01.12703+01:00"}
{"id":"XcodeConsoleWatcher-4gw","title":"Add benchmarks for hot paths","description":"Benchmark parser, dedupe, where-filter, analyzer normalization to catch perf regressions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.678212+01:00","updated_at":"2025-12-11T22:00:01.124774+01:00","closed_at":"2025-12-11T22:00:01.124775+01:00"}
{"id":"XcodeConsoleWatcher-4py","title":"Tail lifecycle integration test","description":"Add integration test covering ready -\u003e session_start -\u003e reconnect_notice -\u003e session_end with cutoff \u0026 idle rollover.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:38.76847+01:00","updated_at":"2025-12-11T12:13:06.261017+01:00","closed_at":"2025-12-11T12:13:06.261017+01:00"}
{"id":"XcodeConsoleWatcher-4ta","title":"Composable filters pipeline","description":"Turn filters into small pipeline interfaces to add new predicates (traceID etc.) cleanly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:59.814839+01:00","updated_at":"2025-12-11T12:23:53.9562+01:00","closed_at":"2025-12-11T12:23:53.9562+01:00"}
{"id":"XcodeConsoleWatcher-4x5","title":"Beads: default no-daemon + update .beads/README","description":"Make Beads usage deterministic and align docs:\n- Set .beads/config.yaml to default no-daemon (and optionally disable auto-start daemon) so git hooks don't use daemon unexpectedly.\n- Update .beads/README.md examples to use bd --no-daemon and correct statuses (open/in_progress/blocked/closed).\n\nAcceptance:\n- bd commands stop emitting frequent bd-160 hash mismatch warnings during normal create/update/close flows.\n- Docs in .beads/README.md match repo practice.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-15T01:53:47.667561+01:00","updated_at":"2025-12-15T01:55:06.629231+01:00","closed_at":"2025-12-15T01:55:06.629231+01:00","comments":[{"id":53,"issue_id":"XcodeConsoleWatcher-4x5","author":"vedranburojevic","text":"Updated Beads repo config + docs:\n- .beads/config.yaml now defaults to no-daemon and disables auto-start daemon.\n- .beads/README.md examples now use bd --no-daemon and correct statuses (open/in_progress/blocked/closed).\n\nVerification:\n- bd list --limit 1","created_at":"2025-12-15T00:55:01Z"}]}
{"id":"XcodeConsoleWatcher-5gm","title":"Polish: clarify --max-level help + query stub xcrun test","description":"- Update tail/query/watch --max-level help text to mention: unset = no max\\n- Add integration-style test for xcw query using stubbed xcrun to ensure Fault logs are not dropped when --max-level is unset\\n- Ensure docs/help + schema are regenerated if needed\\n- go test ./...","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T00:24:35.639943+01:00","updated_at":"2025-12-15T00:27:59.074983+01:00","closed_at":"2025-12-15T00:27:59.074983+01:00","comments":[{"id":37,"issue_id":"XcodeConsoleWatcher-5gm","author":"vedranburojevic","text":"Implemented help text clarification for --max-level (unset = no max) and added stubbed-xcrun integration test for xcw query to ensure Fault logs are included when max-level is unset.\\n\\nCommits: e6d8f92, 7b72524\\nVerification: go test ./...","created_at":"2025-12-14T23:27:53Z"}]}
{"id":"XcodeConsoleWatcher-5tl","title":"Refactor config to leverage Viper","description":"Make Viper authoritative for config/env/defaults and integrate with CLI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:59:26.526652+01:00","updated_at":"2025-12-11T14:14:08.672074+01:00","closed_at":"2025-12-11T14:14:08.672074+01:00"}
{"id":"XcodeConsoleWatcher-5tl.1","title":"Config defaults + env binding","description":"Use Viper defaults and AutomaticEnv with XCW_ prefix; remove manual env overrides.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:59:33.64187+01:00","updated_at":"2025-12-11T14:14:08.66486+01:00","closed_at":"2025-12-11T14:14:08.66486+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.1","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T13:59:33.643689+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.2","title":"Per-command config sections","description":"Support tail/query/watch defaults via viper.Sub(tail), etc., and merge with flags.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:59:39.697729+01:00","updated_at":"2025-12-11T14:14:08.667126+01:00","closed_at":"2025-12-11T14:14:08.667126+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.2","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T13:59:39.698516+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.3","title":"Flag\u003c-\u003econfig precedence","description":"Define precedence (flags \u003e env \u003e config \u003e defaults) and enforce in Globals creation; add tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:59:46.43059+01:00","updated_at":"2025-12-11T14:14:08.668069+01:00","closed_at":"2025-12-11T14:14:08.668069+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.3","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T13:59:46.435349+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.4","title":"Env + config help output","description":"Expose effective config via CLI command (e.g., xcw config show --effective) for agents.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:59:53.497291+01:00","updated_at":"2025-12-11T14:14:08.668697+01:00","closed_at":"2025-12-11T14:14:08.668697+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.4","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T13:59:53.523216+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.5","title":"Remove redundant env overrides","description":"Delete manual applyEnvOverrides and rely on Viper env binding.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:00:01.623315+01:00","updated_at":"2025-12-11T14:14:08.669582+01:00","closed_at":"2025-12-11T14:14:08.669582+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.5","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T14:00:01.627239+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.6","title":"Docs update for config usage","description":"Document config file locations, env vars, and precedence in README/help.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:00:09.160442+01:00","updated_at":"2025-12-11T14:14:08.670665+01:00","closed_at":"2025-12-11T14:14:08.670665+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.6","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T14:00:09.165437+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-5tl.7","title":"Tests for config precedence","description":"Unit tests ensuring defaults/env/config/flags precedence and per-command merges.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:00:17.20027+01:00","updated_at":"2025-12-11T14:14:08.671394+01:00","closed_at":"2025-12-11T14:14:08.671394+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-5tl.7","depends_on_id":"XcodeConsoleWatcher-5tl","type":"parent-child","created_at":"2025-12-11T14:00:17.201163+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-64y","title":"Flexible --process matching","description":"Allow prefix/glob/regex matching for process filters rather than exact match only.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.333631+01:00","updated_at":"2025-12-11T22:00:01.126412+01:00","closed_at":"2025-12-11T22:00:01.126413+01:00"}
{"id":"XcodeConsoleWatcher-6ei","title":"Context-aware logger","description":"Add lightweight logger carrying tail_id/session for debug output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:16.818494+01:00","updated_at":"2025-12-11T12:13:14.985729+01:00","closed_at":"2025-12-11T12:13:14.985729+01:00"}
{"id":"XcodeConsoleWatcher-6mc","title":"Release v0.19.1 (docs: beads task mgmt)","description":"Cut a patch release that includes the AGENTS.md/CLAUDE.md Beads task-management requirement. Steps: bump internal version fallback, update CHANGELOG, tag v0.19.1, push, verify Release workflow and Homebrew tap update.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-14T23:20:16.707408+01:00","updated_at":"2025-12-14T23:23:32.4723+01:00","closed_at":"2025-12-14T23:23:32.4723+01:00","comments":[{"id":16,"issue_id":"XcodeConsoleWatcher-6mc","author":"vedranburojevic","text":"Starting patch release work. Will bump internal version fallback, update CHANGELOG, tag v0.19.1, push, then verify GitHub Release workflow + Homebrew tap update.","created_at":"2025-12-14T22:21:02Z"},{"id":17,"issue_id":"XcodeConsoleWatcher-6mc","author":"vedranburojevic","text":"Tagged and pushed v0.19.1 (commit aa95033). Ran: make docs schema, go test ./... . Next: verify Release workflow + Homebrew tap.","created_at":"2025-12-14T22:22:06Z"},{"id":18,"issue_id":"XcodeConsoleWatcher-6mc","author":"vedranburojevic","text":"Release workflow succeeded (run 20215026468). GitHub release v0.19.1 published with darwin_amd64/arm64 tarballs + checksums. Homebrew tap Formula/xcw.rb updated to 0.19.1.","created_at":"2025-12-14T22:23:27Z"}]}
{"id":"XcodeConsoleWatcher-6zk","title":"Examples/help sync test","description":"Test that docs/help.json covers all CLI commands to force docs refresh on command changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:39:00.542171+01:00","updated_at":"2025-12-11T12:49:58.070818+01:00","closed_at":"2025-12-11T12:49:58.070818+01:00"}
{"id":"XcodeConsoleWatcher-72u","title":"Deterministic timers with benbjohnson/clock","description":"Inject clock into idle timers/cutoffs to make lifecycle tests deterministic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:13:59.036197+01:00","updated_at":"2025-12-11T13:28:30.077719+01:00","closed_at":"2025-12-11T13:28:30.077719+01:00"}
{"id":"XcodeConsoleWatcher-76b","title":"Cutoff completion events","description":"On max-duration/logs emit cutoff_reached + final heartbeat/clear_buffer before exit.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:24.523782+01:00","updated_at":"2025-12-11T12:06:40.323631+01:00","closed_at":"2025-12-11T12:06:40.323631+01:00"}
{"id":"XcodeConsoleWatcher-7ga","title":"Release v0.19.7","description":"Cut a patch release after docs/examples update.\n\nAcceptance:\n- CHANGELOG.md has a 0.19.7 section with date.\n- Version constant updated.\n- Tag v0.19.7 pushed.\n- GitHub Release workflow succeeds and Homebrew formula updates.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T01:08:28.689184+01:00","updated_at":"2025-12-15T01:14:28.826441+01:00","closed_at":"2025-12-15T01:14:28.826441+01:00","comments":[{"id":45,"issue_id":"XcodeConsoleWatcher-7ga","author":"vedranburojevic","text":"Released v0.19.7.\n\nVerification:\n- go test ./...\n- GitHub Actions Release workflow: 20216392757 (success)\n- Homebrew formula updated (vburojevic/homebrew-tap: Formula/xcw.rb version 0.19.7)","created_at":"2025-12-15T00:14:25Z"}]}
{"id":"XcodeConsoleWatcher-7ge","title":"Enhance TUI UX","description":"Add colors per level, highlight search hits, auto-follow toggle, details pane.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.884422+01:00","updated_at":"2025-12-11T22:00:01.123794+01:00","closed_at":"2025-12-11T22:00:01.123794+01:00"}
{"id":"XcodeConsoleWatcher-7gf","title":"Release v0.19.2 (docs+bench guard+resume improvements)","description":"Cut a patch release that includes: README watch/resume recipes, resume backfill best-effort diagnostics, CI benchmark regression guard, and resume state tests. Steps: bump fallback version, update CHANGELOG, regen docs/help.json + schema if needed, tag v0.19.2, push, verify Release workflow + Homebrew tap update.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-14T23:41:36.012156+01:00","updated_at":"2025-12-14T23:44:02.607361+01:00","closed_at":"2025-12-14T23:44:02.607361+01:00","comments":[{"id":28,"issue_id":"XcodeConsoleWatcher-7gf","author":"vedranburojevic","text":"Starting release work.","created_at":"2025-12-14T22:41:40Z"},{"id":29,"issue_id":"XcodeConsoleWatcher-7gf","author":"vedranburojevic","text":"Tagged and pushed v0.19.2 (commit d68ef46). Ran: make docs schema, go test ./... . Next: verify Release workflow + Homebrew tap update.","created_at":"2025-12-14T22:42:53Z"},{"id":30,"issue_id":"XcodeConsoleWatcher-7gf","author":"vedranburojevic","text":"Release workflow succeeded (run 20215272448). GitHub release v0.19.2 published and Homebrew tap Formula/xcw.rb updated to 0.19.2.","created_at":"2025-12-14T22:43:57Z"}]}
{"id":"XcodeConsoleWatcher-7pg","title":"Startup metadata event","description":"Emit single metadata event (version, commit, build date) instead of scattering across outputs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:05.34184+01:00","updated_at":"2025-12-11T12:06:49.018235+01:00","closed_at":"2025-12-11T12:06:49.018235+01:00"}
{"id":"XcodeConsoleWatcher-820","title":"Deduplication tests","description":"Add unit tests for dedupe filter covering windowed vs consecutive dedupe paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:38.388938+01:00","updated_at":"2025-12-11T12:49:37.479869+01:00","closed_at":"2025-12-11T12:49:37.479869+01:00"}
{"id":"XcodeConsoleWatcher-87h","title":"Schema generation from structs","description":"Auto-generate JSON schema from Go structs to prevent drift with schemas/v1.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:28.683173+01:00","updated_at":"2025-12-11T12:24:05.625078+01:00","closed_at":"2025-12-11T12:24:05.625078+01:00"}
{"id":"XcodeConsoleWatcher-8kk","title":"Help/examples: document tail cutoffs","description":"Update xcw help --json + xcw examples to include tail cutoff usage (--max-duration/--max-logs) and list cutoff_reached as a tail output type. Acceptance: make docs schema, go test ./..., and README updated with a tail cutoff example.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T06:56:55.777433+01:00","updated_at":"2025-12-15T06:58:53.988609+01:00","closed_at":"2025-12-15T06:58:53.988609+01:00","comments":[{"id":63,"issue_id":"XcodeConsoleWatcher-8kk","author":"vedranburojevic","text":"Updated xcw help --json tail docs: added max-duration/max-logs examples and listed cutoff_reached as a tail output type. Updated xcw examples + README with tail cutoff examples.\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T05:58:37Z"}]}
{"id":"XcodeConsoleWatcher-8kv","title":"NDJSON emitter facade","description":"Introduce shared emitter interface to auto-stamp schemaVersion/tail_id/session for all events including errors/info; adopt across commands.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:17.30669+01:00","updated_at":"2025-12-11T12:49:14.399298+01:00","closed_at":"2025-12-11T12:49:14.399298+01:00"}
{"id":"XcodeConsoleWatcher-8mn","title":"Robust file rotation + rotation event","description":"Harden rotator for close/disk-full/atomic swap and optionally emit rotation NDJSON event.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.951846+01:00","updated_at":"2025-12-11T22:00:01.12346+01:00","closed_at":"2025-12-11T22:00:01.123461+01:00"}
{"id":"XcodeConsoleWatcher-8tv","title":"Align Go versions across repo","description":"Align Go versions in go.mod, CI (ci.yml), release workflow (release.yml), and docs. Currently go.mod is 1.25.5, CI uses 1.25.x, release uses 1.21.","notes":"Aligned Go versions in go.mod and GitHub workflows; release now uses 1.25.x.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T21:27:15.786045+01:00","updated_at":"2025-12-11T21:28:34.54584+01:00","closed_at":"2025-12-11T21:28:34.545842+01:00"}
{"id":"XcodeConsoleWatcher-9h7","title":"Release v0.19.12","description":"Ship tail cutoff improvements and updated flag help. Acceptance: bump Version, update CHANGELOG, run make docs schema (if applicable) + go test ./..., tag v0.19.12, verify Release workflow + Homebrew tap.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T06:51:55.487119+01:00","updated_at":"2025-12-15T06:54:04.416677+01:00","closed_at":"2025-12-15T06:54:04.416677+01:00","comments":[{"id":62,"issue_id":"XcodeConsoleWatcher-9h7","author":"vedranburojevic","text":"Released v0.19.12: tag pushed, GitHub Actions Release succeeded (run 20221986754), Homebrew formula updated to 0.19.12.","created_at":"2025-12-15T05:54:04Z"}]}
{"id":"XcodeConsoleWatcher-9lz","title":"Release v0.19.0: CI+completions+watch+resume","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-14T22:16:38.291603+01:00","updated_at":"2025-12-14T23:04:46.396456+01:00","closed_at":"2025-12-14T23:04:46.396456+01:00","comments":[{"id":13,"issue_id":"XcodeConsoleWatcher-9lz","author":"vedranburojevic","text":"All tracked items delivered and released as v0.19.0 (commit 8e85ec0): macOS CI drift+tests, completions generated from Kong model, watch filter parity + trigger_result correlation, tail --resume gap backfill with gap_detected/gap_filled, dead embed cleanup.","created_at":"2025-12-14T22:04:28Z"}]}
{"id":"XcodeConsoleWatcher-9lz.1","title":"Release: bump version + changelog + tag","description":"Prepare v0.19.0 release: update CHANGELOG, bump version, regen docs/schema, tag.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-14T22:16:53.937013+01:00","updated_at":"2025-12-14T23:04:42.44468+01:00","closed_at":"2025-12-14T23:04:42.44468+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.1","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:53.937663+01:00","created_by":"vedranburojevic"}],"comments":[{"id":12,"issue_id":"XcodeConsoleWatcher-9lz.1","author":"vedranburojevic","text":"Released v0.19.0: bumped internal version, updated CHANGELOG.md, regenerated docs/help.json + schemas/generated.schema.json, tagged v0.19.0 and pushed tag+main (commit 8e85ec0).","created_at":"2025-12-14T22:04:21Z"}]}
{"id":"XcodeConsoleWatcher-9lz.2","title":"Watch: support where/dedupe/process + repeatable excludes","description":"Bring xcw watch filtering options closer to tail/query (where, dedupe, process, repeatable -x).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T22:16:54.114414+01:00","updated_at":"2025-12-14T23:04:42.442907+01:00","closed_at":"2025-12-14T23:04:42.442907+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.2","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:54.115122+01:00","created_by":"vedranburojevic"}],"comments":[{"id":8,"issue_id":"XcodeConsoleWatcher-9lz.2","author":"vedranburojevic","text":"Done in v0.19.0 (commit 8e85ec0): watch now supports --where, --dedupe/--dedupe-window, repeatable --exclude, and --process; trigger events are correlated via tail_id/session/trigger_id and include trigger_result. Verified: go test ./..., make docs schema.","created_at":"2025-12-14T22:03:59Z"}]}
{"id":"XcodeConsoleWatcher-9lz.3","title":"CI: add macOS job","description":"Add a macOS GitHub Actions job to catch macOS/Xcode-specific regressions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T22:16:54.299958+01:00","updated_at":"2025-12-14T22:17:57.17967+01:00","closed_at":"2025-12-14T22:17:57.17967+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.3","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:54.300609+01:00","created_by":"vedranburojevic"}],"comments":[{"id":6,"issue_id":"XcodeConsoleWatcher-9lz.3","author":"vedranburojevic","text":"Added macOS CI job in .github/workflows/ci.yml to run doc/schema drift check + go test on macOS.","created_at":"2025-12-14T21:17:57Z"}]}
{"id":"XcodeConsoleWatcher-9lz.4","title":"Completion: generate scripts from CLI model","description":"Replace hardcoded completion lists with completion scripts generated from the Kong model to prevent drift.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T22:16:54.485214+01:00","updated_at":"2025-12-14T22:23:05.10809+01:00","closed_at":"2025-12-14T22:23:05.10809+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.4","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:54.485883+01:00","created_by":"vedranburojevic"}],"comments":[{"id":7,"issue_id":"XcodeConsoleWatcher-9lz.4","author":"vedranburojevic","text":"Completion scripts are now generated from the Kong model (commands/flags/enums) and main passes *kong.Context into ctx.Run so completion output stays in sync.","created_at":"2025-12-14T21:23:05Z"}]}
{"id":"XcodeConsoleWatcher-9lz.5","title":"NDJSON: add trigger_result event with correlation fields","description":"Emit trigger_result (exit code, duration, optional output) including tail_id/session/timestamp so agents can correlate triggers.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T22:16:54.671134+01:00","updated_at":"2025-12-14T23:04:42.443963+01:00","closed_at":"2025-12-14T23:04:42.443963+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.5","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:54.672016+01:00","created_by":"vedranburojevic"}],"comments":[{"id":9,"issue_id":"XcodeConsoleWatcher-9lz.5","author":"vedranburojevic","text":"Done in v0.19.0 (commit 8e85ec0): added NDJSON trigger_result (exit_code/duration_ms/timed_out/output/error) and propagated correlation fields across trigger/trigger_error/trigger_result + schema/help updates. Verified: go test ./..., make docs schema.","created_at":"2025-12-14T22:04:06Z"}]}
{"id":"XcodeConsoleWatcher-9lz.6","title":"Cleanup: remove dead embed package and empty internal/app","description":"Remove unused embed_files.go and delete empty internal/app directory.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-14T22:16:54.854244+01:00","updated_at":"2025-12-14T23:04:42.444458+01:00","closed_at":"2025-12-14T23:04:42.444458+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.6","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:54.854904+01:00","created_by":"vedranburojevic"}],"comments":[{"id":11,"issue_id":"XcodeConsoleWatcher-9lz.6","author":"vedranburojevic","text":"Done in v0.19.0 (commit 8e85ec0): removed unused root embedfiles package (embed_files.go) and removed empty internal/app directory.","created_at":"2025-12-14T22:04:16Z"}]}
{"id":"XcodeConsoleWatcher-9lz.7","title":"Tail: optional gap backfill on reconnect/restart","description":"Add optional gap awareness/resume: detect gaps and backfill via query, emitting gap_detected/gap_filled.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T22:16:55.047757+01:00","updated_at":"2025-12-14T23:04:42.444233+01:00","closed_at":"2025-12-14T23:04:42.444233+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-9lz.7","depends_on_id":"XcodeConsoleWatcher-9lz","type":"parent-child","created_at":"2025-12-14T22:16:55.048611+01:00","created_by":"vedranburojevic"}],"comments":[{"id":10,"issue_id":"XcodeConsoleWatcher-9lz.7","author":"vedranburojevic","text":"Done in v0.19.0 (commit 8e85ec0): added tail --resume with persistent state (default ~/.xcw/resume/\u003cbundle\u003e.json), gap_detected/gap_filled NDJSON events, and best-effort backfill on restart/reconnect (bounded by --resume-max-gap/--resume-limit). Verified: go test ./..., make docs schema.","created_at":"2025-12-14T22:04:12Z"}]}
{"id":"XcodeConsoleWatcher-aap","title":"Simplify session tracker","description":"Split PID/binary detection from counters to ease new heuristics (traceID/image UUID).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:19.221772+01:00","updated_at":"2025-12-11T12:23:46.92787+01:00","closed_at":"2025-12-11T12:23:46.92787+01:00"}
{"id":"XcodeConsoleWatcher-aas","title":"Harden timestamp parsing","description":"Improve internal/simulator/parseTimestamp to handle arbitrary offsets, remove hardcoded +0100 layout, and surface parse failures in verbose mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:15.991901+01:00","updated_at":"2025-12-11T22:00:01.127982+01:00","closed_at":"2025-12-11T22:00:01.127983+01:00"}
{"id":"XcodeConsoleWatcher-b1y","title":"Hot path allocation reduction","description":"Pool JSON encoders/buffers in streamer/tail; add benchmarks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:51.115446+01:00","updated_at":"2025-12-11T12:49:47.507567+01:00","closed_at":"2025-12-11T12:49:47.507567+01:00"}
{"id":"XcodeConsoleWatcher-b4x","title":"No-shell trigger mode","description":"In watch, add an exec/args trigger option to bypass sh -c and document security tradeoffs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.401331+01:00","updated_at":"2025-12-11T22:00:01.126099+01:00","closed_at":"2025-12-11T22:00:01.1261+01:00"}
{"id":"XcodeConsoleWatcher-bdy","title":"Reduce dependency surface","description":"Evaluate removing samber/lo from hot paths to reduce binary size and simplify code.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.747487+01:00","updated_at":"2025-12-11T22:00:01.124446+01:00","closed_at":"2025-12-11T22:00:01.124447+01:00"}
{"id":"XcodeConsoleWatcher-blp","title":"Docs: add dry-run-json examples for query/watch","description":"Update README.md and xcw examples output to include --dry-run-json usage for query/watch (and keep tail example).\n\nAcceptance:\n- README.md shows dry-run-json examples for query + watch.\n- internal/cli/examples.go includes examples for watch (and/or discover/launch) plus dry-run-json where relevant.\n- gofmt is clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T01:08:22.755172+01:00","updated_at":"2025-12-15T01:11:47.484679+01:00","closed_at":"2025-12-15T01:11:47.484679+01:00","comments":[{"id":44,"issue_id":"XcodeConsoleWatcher-blp","author":"vedranburojevic","text":"Implemented README + examples updates for --dry-run-json (query/watch) and expanded xcw examples (watch/discover/launch + dry-run-json examples).\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:11:38Z"}]}
{"id":"XcodeConsoleWatcher-bn3","title":"Add golangci-lint","description":"Add golangci-lint to CI with minimal rules (ineffassign, errcheck, govet, staticcheck).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:28.334437+01:00","updated_at":"2025-12-11T12:07:00.786722+01:00","closed_at":"2025-12-11T12:07:00.786722+01:00"}
{"id":"XcodeConsoleWatcher-bpn","title":"Group TailCmd flags","description":"Restructure TailCmd into grouped structs for filters/output/agent options to reduce sprawl.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:08.358534+01:00","updated_at":"2025-12-11T12:23:57.358867+01:00","closed_at":"2025-12-11T12:23:57.358867+01:00"}
{"id":"XcodeConsoleWatcher-c6n","title":"CLI: add --dry-run-json to query and watch","description":"Add a --dry-run-json flag to xcw query and xcw watch (similar to tail) to print resolved options/trigger config as JSON and exit without streaming/querying. Include stubbed-xcrun tests.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T00:40:41.683222+01:00","updated_at":"2025-12-15T01:00:32.917844+01:00","closed_at":"2025-12-15T01:00:32.917844+01:00","comments":[{"id":40,"issue_id":"XcodeConsoleWatcher-c6n","author":"vedranburojevic","text":"Implemented --dry-run-json for xcw query and xcw watch (pure JSON output; no side effects for watch; query suppresses info output in dry-run). Added stubbed-xcrun tests.\\n\\nCommits: 03a225e, 9c06bb4\\nVerification: go test ./...","created_at":"2025-12-14T23:50:20Z"},{"id":41,"issue_id":"XcodeConsoleWatcher-c6n","author":"vedranburojevic","text":"Shipped in v0.19.5.\\n\\nRelease: v0.19.5\\nCommits: 03a225e, 9c06bb4","created_at":"2025-12-15T00:00:26Z"}]}
{"id":"XcodeConsoleWatcher-c7h","title":"Improve text UI with lipgloss/pterm","description":"Use a styling helper to format text-mode summaries/warnings without touching NDJSON path.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:14:23.099071+01:00","updated_at":"2025-12-11T13:28:54.573885+01:00","closed_at":"2025-12-11T13:28:54.573885+01:00"}
{"id":"XcodeConsoleWatcher-chu","title":"Bundle docs/schema via go:embed","description":"Use go:embed to ship help.json and generated.schema.json inside the binary for offline agents.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:14:15.390609+01:00","updated_at":"2025-12-11T13:28:42.554186+01:00","closed_at":"2025-12-11T13:28:42.554186+01:00"}
{"id":"XcodeConsoleWatcher-cly","title":"Centralize NDJSON emit helpers","description":"Add output.Emit helper to set schemaVersion/tail_id/session and avoid repeated NewNDJSONWriter calls.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:00.004609+01:00","updated_at":"2025-12-11T12:06:30.159472+01:00","closed_at":"2025-12-11T12:06:30.159472+01:00"}
{"id":"XcodeConsoleWatcher-coz","title":"Help: tail cutoffs mention cutoff_reached","description":"Fix tail flag help for --max-duration/--max-logs to reflect actual NDJSON output (cutoff_reached marker, session_end emitted when session tracking is available). Acceptance: help text updated, make docs schema, go test ./....","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T06:44:49.936379+01:00","updated_at":"2025-12-15T06:51:28.226974+01:00","closed_at":"2025-12-15T06:51:28.226974+01:00","comments":[{"id":61,"issue_id":"XcodeConsoleWatcher-coz","author":"vedranburojevic","text":"Implemented tail cutoffs to consistently emit cutoff_reached (and updated --max-duration/--max-logs help text). Added stubbed xcrun test for --max-duration with --all to ensure cutoff marker is emitted and reason=max_duration.\n\nVerification:\n- make fmt\n- go test ./...","created_at":"2025-12-15T05:51:05Z"}]}
{"id":"XcodeConsoleWatcher-cw5","title":"Simulator robustness \u0026 UX improvements","description":"Implement simulator-only improvements: unified simulator selection (booted semantics), safer predicate quoting, consistent filtering, improved streamer/query robustness (stderr, scanner errors, timeouts, reconnection), new stats NDJSON event, config provenance, stronger tests (fixtures/fuzz/contract), and expanded troubleshooting docs.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-14T20:50:19.285024+01:00","updated_at":"2025-12-14T21:43:54.475879+01:00","closed_at":"2025-12-14T21:43:54.475879+01:00"}
{"id":"XcodeConsoleWatcher-cw5.1","title":"Unify simulator selection \u0026 booted semantics","description":"Make --booted meaningful across commands; handle simulator=booted consistently; centralize resolution helper; improve multiple-booted error UX.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:50:28.024253+01:00","updated_at":"2025-12-14T21:42:52.85066+01:00","closed_at":"2025-12-14T21:42:52.85066+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-cw5.1","depends_on_id":"XcodeConsoleWatcher-cw5","type":"parent-child","created_at":"2025-12-14T20:50:28.024921+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-cw5.2","title":"Fix filter duplication + predicate/process helpers","description":"Remove double filtering (pattern/exclude) across tail/watch/query; escape predicate literals; dedupe predicate builders; unify process matching semantics; add tests/fixtures/fuzz.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:50:33.093393+01:00","updated_at":"2025-12-14T21:02:42.039348+01:00","closed_at":"2025-12-14T21:02:42.03935+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-cw5.2","depends_on_id":"XcodeConsoleWatcher-cw5","type":"parent-child","created_at":"2025-12-14T20:50:33.094049+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-cw5.3","title":"Streamer/query robustness + stats event","description":"Capture xcrun stderr in verbose; handle scanner.Err including ErrTooLong; add timeouts for simctl helpers; tighten reconnect messaging; add periodic stats NDJSON event and counters.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:50:37.1898+01:00","updated_at":"2025-12-14T21:15:50.333193+01:00","closed_at":"2025-12-14T21:15:50.333194+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-cw5.3","depends_on_id":"XcodeConsoleWatcher-cw5","type":"parent-child","created_at":"2025-12-14T20:50:37.190433+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-cw5.4","title":"Config provenance + NDJSON contract tests","description":"Track flag/env/config/default provenance and surface in 'xcw config show'; standardize NDJSON timestamps (UTC strings); add contract tests for all output types.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:50:42.266674+01:00","updated_at":"2025-12-14T21:43:01.153041+01:00","closed_at":"2025-12-14T21:43:01.153041+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-cw5.4","depends_on_id":"XcodeConsoleWatcher-cw5","type":"parent-child","created_at":"2025-12-14T20:50:42.267516+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-cw5.5","title":"Docs refresh + release v0.18.0","description":"Expand troubleshooting docs (README/help); regenerate docs/help.json and schema; update changelog; bump version; tag release.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:50:46.20593+01:00","updated_at":"2025-12-14T21:43:47.875982+01:00","closed_at":"2025-12-14T21:43:47.875982+01:00","dependencies":[{"issue_id":"XcodeConsoleWatcher-cw5.5","depends_on_id":"XcodeConsoleWatcher-cw5","type":"parent-child","created_at":"2025-12-14T20:50:46.206656+01:00","created_by":"vedranburojevic"}]}
{"id":"XcodeConsoleWatcher-d71","title":"Extract session rotation helper","description":"Isolate file-rotation + writer reset logic used in tail into reusable helper.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:12.368187+01:00","updated_at":"2025-12-11T12:06:32.976846+01:00","closed_at":"2025-12-11T12:06:32.976846+01:00"}
{"id":"XcodeConsoleWatcher-dky","title":"Use local RNG for jitter","description":"Avoid global rand.Seed in streamer; use rand.NewSource per Streamer for deterministic tests and no global side effects.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.060797+01:00","updated_at":"2025-12-11T22:00:01.127664+01:00","closed_at":"2025-12-11T22:00:01.127665+01:00"}
{"id":"XcodeConsoleWatcher-dou","title":"Reconnect backoff \u0026 severity","description":"Debounce reconnect loop with jitter and mark reconnect_notice severity (info/warn).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:20.711193+01:00","updated_at":"2025-12-11T12:06:36.265342+01:00","closed_at":"2025-12-11T12:06:36.265342+01:00"}
{"id":"XcodeConsoleWatcher-ege","title":"Tests: watch --max-duration stub xcrun","description":"Add integration-style coverage (stubbed xcrun) to validate xcw watch stops on --max-duration and emits cutoff_reached reason=max_duration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T02:09:45.959669+01:00","updated_at":"2025-12-15T02:11:18.328447+01:00","closed_at":"2025-12-15T02:11:18.328447+01:00","comments":[{"id":56,"issue_id":"XcodeConsoleWatcher-ege","author":"vedranburojevic","text":"Added stubbed xcrun test for xcw watch --max-duration; validates cutoff_reached reason=max_duration.\\n\\nVerification:\\n- make fmt\\n- go test ./...","created_at":"2025-12-15T01:11:18Z"}]}
{"id":"XcodeConsoleWatcher-ek0","title":"Structured verbose logging with zap","description":"Adopt uber/zap for verbose debug output carrying tail_id/session; keep NDJSON/text outputs unchanged.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:14:05.907162+01:00","updated_at":"2025-12-11T13:28:36.469626+01:00","closed_at":"2025-12-11T13:28:36.469626+01:00"}
{"id":"XcodeConsoleWatcher-fbr","title":"Release v0.19.3 (max-level fix + tail stub test)","description":"- Bump version to 0.19.3\\n- Move CHANGELOG [Unreleased] -\u003e [0.19.3]\\n- Tag v0.19.3 and push\\n- Verify GitHub Release workflow + Homebrew tap update","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T00:09:51.622438+01:00","updated_at":"2025-12-15T00:14:00.695413+01:00","closed_at":"2025-12-15T00:14:00.695413+01:00","comments":[{"id":35,"issue_id":"XcodeConsoleWatcher-fbr","author":"vedranburojevic","text":"Released v0.19.3.\\n\\nCommit: 776cad0\\nTag: v0.19.3\\nGitHub Actions: Release run 20215629724 (success)\\nHomebrew: vburojevic/homebrew-tap Formula/xcw.rb -\u003e 0.19.3\\nVerification: go test ./...","created_at":"2025-12-14T23:13:57Z"}]}
{"id":"XcodeConsoleWatcher-ffh","title":"Tail lifecycle integration test","description":"Full ready→session_start→reconnect_notice→session_end test with idle rollover and cutoff ordering checks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:32.342695+01:00","updated_at":"2025-12-11T12:49:30.97864+01:00","closed_at":"2025-12-11T12:49:30.97864+01:00"}
{"id":"XcodeConsoleWatcher-fmd","title":"Structured errors with hints","description":"Ensure outputErrorCommon used everywhere, add hint field and registry test for error codes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:22.868392+01:00","updated_at":"2025-12-11T12:49:20.294257+01:00","closed_at":"2025-12-11T12:49:20.294257+01:00"}
{"id":"XcodeConsoleWatcher-fwn","title":"Examples: cover config/pick/completion/summary/update/version/log-schema/handoff","description":"Expand XCW USAGE EXAMPLES\n==================\n\n## TAIL\nStream real-time logs from iOS Simulator\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp\n    Basic streaming to stdout\n    Output: {\"type\":\"log\",\"level\":\"Error\",\"message\":\"Connection failed\",...}\n    When: Real-time log monitoring with Codex or script-based agents\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --tmux\n    Background monitoring with tmux\n    Output: {\"type\":\"tmux\",\"session\":\"xcw-iphone-17-pro\",\"attach\":\"tmux attach -t xcw-iphone-17-pro\"}\n    When: Long-running sessions where you need to do other work\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --output session.ndjson\n    Stream to file for later analysis\n    When: Need to replay or share logs across analysis passes\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp -l error\n    Only show error and fault level logs\n    When: Reduce noise, focus on problems\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp -x \"heartbeat|keepalive\"\n    Exclude noisy log patterns\n    When: Filter out repetitive logs\n\n\n## QUERY\nQuery historical logs from iOS Simulator\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m\n    Query logs from the last 5 minutes\n    When: Check recent activity after a test run\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m -l error\n    Query only error-level logs\n    When: Find errors after running tests\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 1h --limit 100\n    Query last hour, limit to 100 entries\n    When: Bounded query for large time ranges\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 10m --analyze\n    Query with pattern analysis\n    Output: {\"type\":\"analysis\",\"summary\":{...},\"patterns\":[...]}\n    When: Get grouped error patterns and counts\n\n\n## LIST\nList available iOS Simulators\n\n  xcw list\n    List all simulators\n    Output: {\"type\":\"simulator\",\"name\":\"iPhone 17 Pro\",\"udid\":\"...\",\"state\":\"Booted\"}\n\n  xcw list --booted-only\n    List only booted simulators\n    When: Find which simulators are running\n\n  xcw list -f text\n    Human-readable output\n    When: Manual inspection\n\n\n## APPS\nList installed apps on a simulator\n\n  xcw apps -s \"iPhone 17 Pro\"\n    List all installed apps\n    Output: {\"type\":\"app\",\"bundle_id\":\"com.example.myapp\",\"name\":\"MyApp\",...}\n\n  xcw apps -s \"iPhone 17 Pro\" --user-only\n    List only user-installed apps (exclude system apps)\n    When: Find your app's bundle ID\n\n\n## DOCTOR\nCheck system requirements and configuration\n\n  xcw doctor\n    Run all diagnostic checks\n    Output: {\"type\":\"doctor\",\"all_passed\":true,\"checks\":[...]}\n    When: Verify xcw is set up correctly\n\n\n## ANALYZE\nAnalyze a recorded NDJSON log file\n\n  xcw analyze session.ndjson\n    Analyze a recorded log file\n    Output: {\"type\":\"analysis\",\"summary\":{...},\"patterns\":[...]}\n    When: Post-process recorded logs\n\n\n## REPLAY\nReplay a recorded NDJSON log file\n\n  xcw replay session.ndjson\n    Replay logs with original timing\n    When: Reproduce a debugging session\n\n  xcw replay session.ndjson --speed 2\n    Replay at 2x speed\n    When: Faster review of recorded logs\n\n\n## SESSIONS\nManage session log files\n\n  xcw sessions list\n    List recent session files\n    Output: {\"type\":\"session\",\"path\":\"~/.xcw/sessions/...\",\"name\":\"...\",\"size\":1234}\n\n  xcw sessions show --latest\n    Get path to most recent session\n    When: Pipe to analyze: xcw analyze $(xcw sessions show --latest)\n\n  xcw sessions clean --keep 10\n    Delete old sessions, keep 10 most recent\n    When: Free up disk space\n\n\n## SCHEMA\nOutput JSON Schema for xcw output types\n\n  xcw schema\n    Output full JSON Schema\n    When: Validate xcw output programmatically\n\n  xcw schema --type log,error\n    Output schema for specific types only\n\n\nWORKFLOWS\n---------\n\n## codex_streaming\nReal-time log streaming for Codex/script-based agents\nWhen: Agent processes stdout line by line, reacting immediately to errors\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp\n  # Agent reads NDJSON lines from stdout\n  # Each line is a complete JSON object\n\n## claude_code_background\nBackground monitoring for Claude Code\nWhen: Long-running session where agent does other work while logs stream\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --tmux\n  # Returns immediately with session info\n  # Agent continues working...\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m -l error\n  # Query when needed to check for errors\n\n## test_run_analysis\nCapture and analyze logs from a test run\nWhen: Need to save logs for later analysis or sharing\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --output test-run.ndjson\n  # Run tests in another terminal...\n  # Stop tail with Ctrl+C when done\n  xcw analyze test-run.ndjson\n  # Get summary and error patterns to include examples for:\n- version, update\n- config (show/path/generate)\n- pick\n- completion\n- summary\n- clear\n- log-schema\n- handoff\n- ui (note: interactive)\n\nAcceptance:\n- {\n  \"type\": \"examples\",\n  \"version\": \"0.18.0\",\n  \"commands\": [\n    {\n      \"name\": \"tail\",\n      \"description\": \"Stream real-time logs from iOS Simulator\",\n      \"examples\": [\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n          \"description\": \"Basic streaming to stdout\",\n          \"output\": \"{\\\"type\\\":\\\"log\\\",\\\"level\\\":\\\"Error\\\",\\\"message\\\":\\\"Connection failed\\\",...}\",\n          \"when\": \"Real-time log monitoring with Codex or script-based agents\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --tmux\",\n          \"description\": \"Background monitoring with tmux\",\n          \"output\": \"{\\\"type\\\":\\\"tmux\\\",\\\"session\\\":\\\"xcw-iphone-17-pro\\\",\\\"attach\\\":\\\"tmux attach -t xcw-iphone-17-pro\\\"}\",\n          \"when\": \"Long-running sessions where you need to do other work\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --output session.ndjson\",\n          \"description\": \"Stream to file for later analysis\",\n          \"when\": \"Need to replay or share logs across analysis passes\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp -l error\",\n          \"description\": \"Only show error and fault level logs\",\n          \"when\": \"Reduce noise, focus on problems\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp -x \\\"heartbeat|keepalive\\\"\",\n          \"description\": \"Exclude noisy log patterns\",\n          \"when\": \"Filter out repetitive logs\"\n        }\n      ]\n    },\n    {\n      \"name\": \"query\",\n      \"description\": \"Query historical logs from iOS Simulator\",\n      \"examples\": [\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m\",\n          \"description\": \"Query logs from the last 5 minutes\",\n          \"when\": \"Check recent activity after a test run\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m -l error\",\n          \"description\": \"Query only error-level logs\",\n          \"when\": \"Find errors after running tests\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 1h --limit 100\",\n          \"description\": \"Query last hour, limit to 100 entries\",\n          \"when\": \"Bounded query for large time ranges\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 10m --analyze\",\n          \"description\": \"Query with pattern analysis\",\n          \"output\": \"{\\\"type\\\":\\\"analysis\\\",\\\"summary\\\":{...},\\\"patterns\\\":[...]}\",\n          \"when\": \"Get grouped error patterns and counts\"\n        }\n      ]\n    },\n    {\n      \"name\": \"list\",\n      \"description\": \"List available iOS Simulators\",\n      \"examples\": [\n        {\n          \"command\": \"xcw list\",\n          \"description\": \"List all simulators\",\n          \"output\": \"{\\\"type\\\":\\\"simulator\\\",\\\"name\\\":\\\"iPhone 17 Pro\\\",\\\"udid\\\":\\\"...\\\",\\\"state\\\":\\\"Booted\\\"}\"\n        },\n        {\n          \"command\": \"xcw list --booted-only\",\n          \"description\": \"List only booted simulators\",\n          \"when\": \"Find which simulators are running\"\n        },\n        {\n          \"command\": \"xcw list -f text\",\n          \"description\": \"Human-readable output\",\n          \"when\": \"Manual inspection\"\n        }\n      ]\n    },\n    {\n      \"name\": \"apps\",\n      \"description\": \"List installed apps on a simulator\",\n      \"examples\": [\n        {\n          \"command\": \"xcw apps -s \\\"iPhone 17 Pro\\\"\",\n          \"description\": \"List all installed apps\",\n          \"output\": \"{\\\"type\\\":\\\"app\\\",\\\"bundle_id\\\":\\\"com.example.myapp\\\",\\\"name\\\":\\\"MyApp\\\",...}\"\n        },\n        {\n          \"command\": \"xcw apps -s \\\"iPhone 17 Pro\\\" --user-only\",\n          \"description\": \"List only user-installed apps (exclude system apps)\",\n          \"when\": \"Find your app's bundle ID\"\n        }\n      ]\n    },\n    {\n      \"name\": \"doctor\",\n      \"description\": \"Check system requirements and configuration\",\n      \"examples\": [\n        {\n          \"command\": \"xcw doctor\",\n          \"description\": \"Run all diagnostic checks\",\n          \"output\": \"{\\\"type\\\":\\\"doctor\\\",\\\"all_passed\\\":true,\\\"checks\\\":[...]}\",\n          \"when\": \"Verify xcw is set up correctly\"\n        }\n      ]\n    },\n    {\n      \"name\": \"analyze\",\n      \"description\": \"Analyze a recorded NDJSON log file\",\n      \"examples\": [\n        {\n          \"command\": \"xcw analyze session.ndjson\",\n          \"description\": \"Analyze a recorded log file\",\n          \"output\": \"{\\\"type\\\":\\\"analysis\\\",\\\"summary\\\":{...},\\\"patterns\\\":[...]}\",\n          \"when\": \"Post-process recorded logs\"\n        }\n      ]\n    },\n    {\n      \"name\": \"replay\",\n      \"description\": \"Replay a recorded NDJSON log file\",\n      \"examples\": [\n        {\n          \"command\": \"xcw replay session.ndjson\",\n          \"description\": \"Replay logs with original timing\",\n          \"when\": \"Reproduce a debugging session\"\n        },\n        {\n          \"command\": \"xcw replay session.ndjson --speed 2\",\n          \"description\": \"Replay at 2x speed\",\n          \"when\": \"Faster review of recorded logs\"\n        }\n      ]\n    },\n    {\n      \"name\": \"sessions\",\n      \"description\": \"Manage session log files\",\n      \"examples\": [\n        {\n          \"command\": \"xcw sessions list\",\n          \"description\": \"List recent session files\",\n          \"output\": \"{\\\"type\\\":\\\"session\\\",\\\"path\\\":\\\"~/.xcw/sessions/...\\\",\\\"name\\\":\\\"...\\\",\\\"size\\\":1234}\"\n        },\n        {\n          \"command\": \"xcw sessions show --latest\",\n          \"description\": \"Get path to most recent session\",\n          \"when\": \"Pipe to analyze: xcw analyze $(xcw sessions show --latest)\"\n        },\n        {\n          \"command\": \"xcw sessions clean --keep 10\",\n          \"description\": \"Delete old sessions, keep 10 most recent\",\n          \"when\": \"Free up disk space\"\n        }\n      ]\n    },\n    {\n      \"name\": \"schema\",\n      \"description\": \"Output JSON Schema for xcw output types\",\n      \"examples\": [\n        {\n          \"command\": \"xcw schema\",\n          \"description\": \"Output full JSON Schema\",\n          \"when\": \"Validate xcw output programmatically\"\n        },\n        {\n          \"command\": \"xcw schema --type log,error\",\n          \"description\": \"Output schema for specific types only\"\n        }\n      ]\n    }\n  ],\n  \"workflows\": [\n    {\n      \"name\": \"codex_streaming\",\n      \"description\": \"Real-time log streaming for Codex/script-based agents\",\n      \"when\": \"Agent processes stdout line by line, reacting immediately to errors\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n        \"# Agent reads NDJSON lines from stdout\",\n        \"# Each line is a complete JSON object\"\n      ]\n    },\n    {\n      \"name\": \"claude_code_background\",\n      \"description\": \"Background monitoring for Claude Code\",\n      \"when\": \"Long-running session where agent does other work while logs stream\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --tmux\",\n        \"# Returns immediately with session info\",\n        \"# Agent continues working...\",\n        \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m -l error\",\n        \"# Query when needed to check for errors\"\n      ]\n    },\n    {\n      \"name\": \"test_run_analysis\",\n      \"description\": \"Capture and analyze logs from a test run\",\n      \"when\": \"Need to save logs for later analysis or sharing\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --output test-run.ndjson\",\n        \"# Run tests in another terminal...\",\n        \"# Stop tail with Ctrl+C when done\",\n        \"xcw analyze test-run.ndjson\",\n        \"# Get summary and error patterns\"\n      ]\n    }\n  ]\n} includes these command blocks.\n- XCW USAGE EXAMPLES\n==================\n\n## TAIL\nStream real-time logs from iOS Simulator\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp\n    Basic streaming to stdout\n    Output: {\"type\":\"log\",\"level\":\"Error\",\"message\":\"Connection failed\",...}\n    When: Real-time log monitoring with Codex or script-based agents\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --tmux\n    Background monitoring with tmux\n    Output: {\"type\":\"tmux\",\"session\":\"xcw-iphone-17-pro\",\"attach\":\"tmux attach -t xcw-iphone-17-pro\"}\n    When: Long-running sessions where you need to do other work\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --output session.ndjson\n    Stream to file for later analysis\n    When: Need to replay or share logs across analysis passes\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp -l error\n    Only show error and fault level logs\n    When: Reduce noise, focus on problems\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp -x \"heartbeat|keepalive\"\n    Exclude noisy log patterns\n    When: Filter out repetitive logs\n\n\n## QUERY\nQuery historical logs from iOS Simulator\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m\n    Query logs from the last 5 minutes\n    When: Check recent activity after a test run\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m -l error\n    Query only error-level logs\n    When: Find errors after running tests\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 1h --limit 100\n    Query last hour, limit to 100 entries\n    When: Bounded query for large time ranges\n\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 10m --analyze\n    Query with pattern analysis\n    Output: {\"type\":\"analysis\",\"summary\":{...},\"patterns\":[...]}\n    When: Get grouped error patterns and counts\n\n\n## LIST\nList available iOS Simulators\n\n  xcw list\n    List all simulators\n    Output: {\"type\":\"simulator\",\"name\":\"iPhone 17 Pro\",\"udid\":\"...\",\"state\":\"Booted\"}\n\n  xcw list --booted-only\n    List only booted simulators\n    When: Find which simulators are running\n\n  xcw list -f text\n    Human-readable output\n    When: Manual inspection\n\n\n## APPS\nList installed apps on a simulator\n\n  xcw apps -s \"iPhone 17 Pro\"\n    List all installed apps\n    Output: {\"type\":\"app\",\"bundle_id\":\"com.example.myapp\",\"name\":\"MyApp\",...}\n\n  xcw apps -s \"iPhone 17 Pro\" --user-only\n    List only user-installed apps (exclude system apps)\n    When: Find your app's bundle ID\n\n\n## DOCTOR\nCheck system requirements and configuration\n\n  xcw doctor\n    Run all diagnostic checks\n    Output: {\"type\":\"doctor\",\"all_passed\":true,\"checks\":[...]}\n    When: Verify xcw is set up correctly\n\n\n## ANALYZE\nAnalyze a recorded NDJSON log file\n\n  xcw analyze session.ndjson\n    Analyze a recorded log file\n    Output: {\"type\":\"analysis\",\"summary\":{...},\"patterns\":[...]}\n    When: Post-process recorded logs\n\n\n## REPLAY\nReplay a recorded NDJSON log file\n\n  xcw replay session.ndjson\n    Replay logs with original timing\n    When: Reproduce a debugging session\n\n  xcw replay session.ndjson --speed 2\n    Replay at 2x speed\n    When: Faster review of recorded logs\n\n\n## SESSIONS\nManage session log files\n\n  xcw sessions list\n    List recent session files\n    Output: {\"type\":\"session\",\"path\":\"~/.xcw/sessions/...\",\"name\":\"...\",\"size\":1234}\n\n  xcw sessions show --latest\n    Get path to most recent session\n    When: Pipe to analyze: xcw analyze $(xcw sessions show --latest)\n\n  xcw sessions clean --keep 10\n    Delete old sessions, keep 10 most recent\n    When: Free up disk space\n\n\n## SCHEMA\nOutput JSON Schema for xcw output types\n\n  xcw schema\n    Output full JSON Schema\n    When: Validate xcw output programmatically\n\n  xcw schema --type log,error\n    Output schema for specific types only\n\n\nWORKFLOWS\n---------\n\n## codex_streaming\nReal-time log streaming for Codex/script-based agents\nWhen: Agent processes stdout line by line, reacting immediately to errors\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp\n  # Agent reads NDJSON lines from stdout\n  # Each line is a complete JSON object\n\n## claude_code_background\nBackground monitoring for Claude Code\nWhen: Long-running session where agent does other work while logs stream\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --tmux\n  # Returns immediately with session info\n  # Agent continues working...\n  xcw query -s \"iPhone 17 Pro\" -a com.example.myapp --since 5m -l error\n  # Query when needed to check for errors\n\n## test_run_analysis\nCapture and analyze logs from a test run\nWhen: Need to save logs for later analysis or sharing\n\n  xcw tail -s \"iPhone 17 Pro\" -a com.example.myapp --output test-run.ndjson\n  # Run tests in another terminal...\n  # Stop tail with Ctrl+C when done\n  xcw analyze test-run.ndjson\n  # Get summary and error patterns text output lists them.\n- go test ./... passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T01:56:36.701077+01:00","updated_at":"2025-12-15T01:59:38.65272+01:00","closed_at":"2025-12-15T01:59:38.65272+01:00","comments":[{"id":54,"issue_id":"XcodeConsoleWatcher-fwn","author":"vedranburojevic","text":"Expanded xcw examples coverage to include config/pick/completion/summary/update/version/log-schema/handoff/ui/clear.\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:59:34Z"}]}
{"id":"XcodeConsoleWatcher-h7t","title":"Improve structured error hints and recovery guidance","description":"Add centralized error classification with consistent codes + hint fields. Surface xcw doctor recommendations (e.g., missing xcrun/Xcode) in common failures.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-14T17:37:08.06026+01:00","updated_at":"2025-12-14T18:04:00.847383+01:00","closed_at":"2025-12-14T18:04:00.847384+01:00"}
{"id":"XcodeConsoleWatcher-i8n","title":"Allow --predicate without --app; require --all for unfiltered tails","description":"Make --app optional when --predicate is supplied (tail/query/watch/ui). Add explicit --all flag for intentionally streaming without app/predicate. Ensure structured error codes + hints.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:37:08.409564+01:00","updated_at":"2025-12-14T18:03:52.998908+01:00","closed_at":"2025-12-14T18:03:52.998909+01:00"}
{"id":"XcodeConsoleWatcher-j3p","title":"Graceful SIGINT summary","description":"On SIGINT emit session_end, clear_buffer, final summary with cutoff reason.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:10.174934+01:00","updated_at":"2025-12-11T12:06:53.385589+01:00","closed_at":"2025-12-11T12:06:53.385589+01:00"}
{"id":"XcodeConsoleWatcher-jim","title":"Release v0.19.8","description":"Cut a patch release for help.json coverage improvements.\n\nAcceptance:\n- CHANGELOG.md has a 0.19.8 section with date.\n- Version constant updated.\n- Tag v0.19.8 pushed.\n- GitHub Release workflow succeeds and Homebrew formula updates.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T01:16:49.796353+01:00","updated_at":"2025-12-15T01:20:47.6002+01:00","closed_at":"2025-12-15T01:20:47.6002+01:00","comments":[{"id":47,"issue_id":"XcodeConsoleWatcher-jim","author":"vedranburojevic","text":"Released v0.19.8.\n\nVerification:\n- go test ./...\n- GitHub Actions Release workflow: 20216501524 (success)\n- Homebrew formula updated (vburojevic/homebrew-tap: Formula/xcw.rb version 0.19.8)","created_at":"2025-12-15T00:20:44Z"}]}
{"id":"XcodeConsoleWatcher-k6d","title":"Release v0.19.6 (stderr pipe closure fix)","description":"Roll up c4db170 (ignore os.ErrClosed from stderr scanners) into a patch release so macOS CI and real-world short-lived xcrun calls don't fail.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T00:56:46.189569+01:00","updated_at":"2025-12-15T01:01:00.316573+01:00","closed_at":"2025-12-15T01:01:00.316573+01:00","comments":[{"id":43,"issue_id":"XcodeConsoleWatcher-k6d","author":"vedranburojevic","text":"Released v0.19.6 (stderr pipe closure fix).\\n\\nCommit: d168823\\nTag: v0.19.6\\nGitHub Actions: Release run 20216161789 (success)\\nCI: run 20216160884 (success)\\nHomebrew: Formula/xcw.rb -\u003e 0.19.6","created_at":"2025-12-15T00:00:54Z"}]}
{"id":"XcodeConsoleWatcher-ki3","title":"Parser diagnostics","description":"Log verbose parse failures with sample lines and track dropped-line counter.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:54.768407+01:00","updated_at":"2025-12-11T12:06:44.580789+01:00","closed_at":"2025-12-11T12:06:44.580789+01:00"}
{"id":"XcodeConsoleWatcher-l9k","title":"Physical device log streaming support","description":"Investigate/implement optional streaming from physical iOS devices or document constraints.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:17.037352+01:00","updated_at":"2025-12-11T22:00:01.123076+01:00","closed_at":"2025-12-11T22:00:01.123077+01:00"}
{"id":"XcodeConsoleWatcher-m0u","title":"Beads: stop bd-160 export_hashes warnings","description":"Stop recurring bd-160 warnings (JSONL hash mismatch vs export_hashes). Goal: deterministic bd --no-daemon CRUD with no warnings.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-15T06:31:15.966671+01:00","updated_at":"2025-12-15T06:40:34.71497+01:00","closed_at":"2025-12-15T06:40:34.71497+01:00","comments":[{"id":57,"issue_id":"XcodeConsoleWatcher-m0u","author":"vedranburojevic","text":"Switched Beads defaults to JSONL-only mode (no-db) and disabled daemon usage via .beads/config.yaml; updated AGENTS.md/CLAUDE.md/CONTRIBUTING.md/.beads/README.md to use plain bd commands. This avoids recurring bd-160 export_hashes warnings when issues.jsonl is the source of truth.","created_at":"2025-12-15T05:34:24Z"},{"id":58,"issue_id":"XcodeConsoleWatcher-m0u","author":"vedranburojevic","text":"Verification:\n- bd status\n- go test ./...","created_at":"2025-12-15T05:34:58Z"},{"id":59,"issue_id":"XcodeConsoleWatcher-m0u","author":"vedranburojevic","text":"Note: Tried setting no-db: true to avoid bd-160 warnings, but bd sync (used by git hooks) does not work in no-db mode. Kept DB mode (no-db: false) and enforced deterministic direct mode via no-daemon + auto-start-daemon: false; also stopped the daemon.","created_at":"2025-12-15T05:40:03Z"},{"id":60,"issue_id":"XcodeConsoleWatcher-m0u","author":"vedranburojevic","text":"Resolution: keep DB mode (no-db: false) because bd sync/git hooks require it; enforce deterministic direct usage via no-daemon + auto-start-daemon: false, and stop any running daemon. Updated docs to use bd commands consistent with repo config. Verified: bd sync --flush-only, go test ./...","created_at":"2025-12-15T05:40:34Z"}]}
{"id":"XcodeConsoleWatcher-mlj","title":"Release v0.19.4","description":"- Bump version to 0.19.4\\n- Update CHANGELOG.md\\n- Run make docs schema\\n- go test ./...\\n- Tag v0.19.4 and push\\n- Verify GitHub Release workflow + Homebrew tap update","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T00:28:24.906063+01:00","updated_at":"2025-12-15T00:31:19.252909+01:00","closed_at":"2025-12-15T00:31:19.252909+01:00","comments":[{"id":38,"issue_id":"XcodeConsoleWatcher-mlj","author":"vedranburojevic","text":"Released v0.19.4.\\n\\nCommit: 4286d70\\nTag: v0.19.4\\nGitHub Actions: Release run 20215840239 (success)\\nCI: run 20215839056 (success)\\nHomebrew: vburojevic/homebrew-tap Formula/xcw.rb -\u003e 0.19.4\\nVerification: go test ./...","created_at":"2025-12-14T23:31:15Z"}]}
{"id":"XcodeConsoleWatcher-nfk","title":"Perf+filters: errgroup/goleak/gjson/expr","description":"Implement concurrency hygiene with errgroup, add goleak checks, speed up simulator NDJSON parsing using gjson, and compile --where expressions using expr for faster evaluation and future extensibility.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-14T19:41:47.984308+01:00","updated_at":"2025-12-14T19:54:55.199229+01:00","closed_at":"2025-12-14T19:54:55.199229+01:00","labels":["filters","perf"],"comments":[{"id":5,"issue_id":"XcodeConsoleWatcher-nfk","author":"vedranburojevic","text":"Completed in v0.17.1 (tag pushed). Includes gjson parser fast-path, errgroup-managed triggers/output pumps, goleak TestMain checks, and signal.NotifyContext shutdown refactors.","created_at":"2025-12-14T18:54:55Z"}]}
{"id":"XcodeConsoleWatcher-nfk.1","title":"Use errgroup for command goroutines","description":"Replace ad-hoc goroutines (signals, trigger exec) with errgroup-managed lifecycles; ensure triggers cancel on shutdown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:41:56.719911+01:00","updated_at":"2025-12-14T19:54:55.086056+01:00","closed_at":"2025-12-14T19:54:55.086056+01:00","labels":["concurrency","perf"],"dependencies":[{"issue_id":"XcodeConsoleWatcher-nfk.1","depends_on_id":"XcodeConsoleWatcher-nfk","type":"parent-child","created_at":"2025-12-14T19:41:56.720611+01:00","created_by":"vedranburojevic"}],"comments":[{"id":3,"issue_id":"XcodeConsoleWatcher-nfk.1","author":"vedranburojevic","text":"Adopted errgroup for goroutine lifecycles: watch triggers are now errgroup-managed and cancelled on shutdown; launch stdout/stderr readers are managed with errgroup. Also replaced ad-hoc signal goroutines with signal.NotifyContext in tail/watch/ui/launch/replay.","created_at":"2025-12-14T18:50:38Z"}]}
{"id":"XcodeConsoleWatcher-nfk.2","title":"Add goleak to tests","description":"Add go.uber.org/goleak verification for packages that spawn goroutines (simulator, cli) to catch leaks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:41:56.785722+01:00","updated_at":"2025-12-14T19:54:55.087073+01:00","closed_at":"2025-12-14T19:54:55.087073+01:00","labels":["concurrency","test"],"dependencies":[{"issue_id":"XcodeConsoleWatcher-nfk.2","depends_on_id":"XcodeConsoleWatcher-nfk","type":"parent-child","created_at":"2025-12-14T19:41:56.78639+01:00","created_by":"vedranburojevic"}],"comments":[{"id":4,"issue_id":"XcodeConsoleWatcher-nfk.2","author":"vedranburojevic","text":"Added goleak TestMain hooks in internal/simulator and internal/cli packages (internal/simulator/goleak_test.go, internal/cli/goleak_test.go). Next: run full test suite and add ignores if needed.","created_at":"2025-12-14T18:50:42Z"}]}
{"id":"XcodeConsoleWatcher-nfk.3","title":"Speed up NDJSON parser with gjson","description":"Switch simulator.Parser.Parse from encoding/json unmarshal to gjson field extraction; keep semantics and benchmark.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:41:56.850803+01:00","updated_at":"2025-12-14T19:54:55.087364+01:00","closed_at":"2025-12-14T19:54:55.087364+01:00","labels":["parser","perf"],"dependencies":[{"issue_id":"XcodeConsoleWatcher-nfk.3","depends_on_id":"XcodeConsoleWatcher-nfk","type":"parent-child","created_at":"2025-12-14T19:41:56.851444+01:00","created_by":"vedranburojevic"}],"comments":[{"id":1,"issue_id":"XcodeConsoleWatcher-nfk.3","author":"vedranburojevic","text":"Implemented gjson-based parsing in internal/simulator/parser.go (replaces encoding/json unmarshal). Next: run benches/tests + tidy modules.","created_at":"2025-12-14T18:42:57Z"}]}
{"id":"XcodeConsoleWatcher-nfk.4","title":"Compile --where using expr","description":"Use github.com/antonmedv/expr to compile where expressions once; keep existing syntax (AND/OR/NOT, operators, regex literals).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:41:56.916545+01:00","updated_at":"2025-12-14T19:45:35.606116+01:00","closed_at":"2025-12-14T19:45:35.606116+01:00","labels":["filters","perf"],"dependencies":[{"issue_id":"XcodeConsoleWatcher-nfk.4","depends_on_id":"XcodeConsoleWatcher-nfk","type":"parent-child","created_at":"2025-12-14T19:41:56.917227+01:00","created_by":"vedranburojevic"}],"comments":[{"id":2,"issue_id":"XcodeConsoleWatcher-nfk.4","author":"vedranburojevic","text":"Checked recent commits: boolean --where expressions (AND/OR/NOT, parentheses, regex literals) already shipped in v0.17.0 (see internal/filter/where_expr.go + changelog). Not re-adding expr dependency.","created_at":"2025-12-14T18:45:35Z"}]}
{"id":"XcodeConsoleWatcher-nx5","title":"Watch: add --max-duration/--max-logs cutoffs","description":"Add agent-safe cutoffs to xcw watch similar to tail:\n- --max-duration stops after a duration.\n- --max-logs stops after N emitted logs.\n- Emit NDJSON cutoff_reached (reason=max_duration|max_logs) and exit cleanly.\n- Ensure triggers started before cutoff are awaited so cutoff_reached is the last event.\n\nAcceptance:\n- xcw watch supports both flags.\n- cutoff_reached is emitted for ndjson output.\n- Triggers started before cutoff complete (or time out) before exit.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T01:28:13.663919+01:00","updated_at":"2025-12-15T01:37:06.831176+01:00","closed_at":"2025-12-15T01:37:06.831176+01:00","comments":[{"id":48,"issue_id":"XcodeConsoleWatcher-nx5","author":"vedranburojevic","text":"Implemented watch cutoffs:\n- Added  and  to {\"type\":\"error\",\"schemaVersion\":1,\"code\":\"FILTER_REQUIRED\",\"message\":\"--app is required unless --predicate or --all is provided\",\"hint\":\"Add -a/--app, or provide --predicate, or add --all to intentionally stream/query all simulator logs\"}.\n- On cutoff, waits for in-flight triggers and emits NDJSON  as the last event.\n- Added stubbed-xcrun integration-style test for Usage: xcw watch [flags]\n\nWatch logs and trigger commands on patterns\n\nRun \"xcw watch --help\" for more information..\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:36:48Z"},{"id":49,"issue_id":"XcodeConsoleWatcher-nx5","author":"vedranburojevic","text":"Implemented watch cutoffs:\n- Added --max-duration and --max-logs to xcw watch.\n- On cutoff, waits for in-flight triggers and emits NDJSON cutoff_reached as the last event.\n- Added stubbed-xcrun integration-style test for xcw watch --max-logs.\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:37:02Z"}]}
{"id":"XcodeConsoleWatcher-ol1","title":"NDJSON allocation reduction","description":"Reuse encoders/writers in hot paths to cut allocations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:42.516127+01:00","updated_at":"2025-12-11T12:13:11.155799+01:00","closed_at":"2025-12-11T12:13:11.155799+01:00"}
{"id":"XcodeConsoleWatcher-olk","title":"Add golangci-lint CI","description":"Integrate golangci-lint (errcheck, ineffassign, staticcheck, govet) into CI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:13:52.845073+01:00","updated_at":"2025-12-11T13:28:23.653867+01:00","closed_at":"2025-12-11T13:28:23.653867+01:00"}
{"id":"XcodeConsoleWatcher-ovw","title":"Release v0.19.10","description":"Cut patch release after help.json coverage expansion.\n\nAcceptance:\n- CHANGELOG.md has 0.19.10 section with date.\n- Version constant updated.\n- Tag v0.19.10 pushed.\n- Release workflow succeeds and Homebrew formula updates.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T01:45:09.599335+01:00","updated_at":"2025-12-15T01:51:49.180365+01:00","closed_at":"2025-12-15T01:51:49.180365+01:00","comments":[{"id":52,"issue_id":"XcodeConsoleWatcher-ovw","author":"vedranburojevic","text":"Released v0.19.10.\n\nVerification:\n- go test ./...\n- GitHub Actions Release workflow: 20216972857 (success)\n- Homebrew formula updated (vburojevic/homebrew-tap: Formula/xcw.rb version 0.19.10)","created_at":"2025-12-15T00:51:45Z"}]}
{"id":"XcodeConsoleWatcher-ozf","title":"Release v0.19.5","description":"- Bump version to 0.19.5\\n- Update CHANGELOG.md\\n- Run make docs schema\\n- go test ./...\\n- Tag v0.19.5 and push\\n- Verify GitHub Release workflow + Homebrew tap update","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T00:50:38.9258+01:00","updated_at":"2025-12-15T01:00:47.078434+01:00","closed_at":"2025-12-15T01:00:47.078434+01:00","comments":[{"id":42,"issue_id":"XcodeConsoleWatcher-ozf","author":"vedranburojevic","text":"Released v0.19.5.\\n\\nCommit: 1eec6f9\\nTag: v0.19.5\\nGitHub Actions: Release run 20216099704 (success)\\nHomebrew: Formula/xcw.rb -\u003e 0.19.5\\nNote: macOS CI initially failed due to benign stderr pipe closure; fixed in v0.19.6 (c4db170).","created_at":"2025-12-15T00:00:40Z"}]}
{"id":"XcodeConsoleWatcher-pd0","title":"Adopt zap for verbose logging","description":"Replace fmt-based debug output with structured zap logger across commands for consistent verbosity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.541174+01:00","updated_at":"2025-12-11T22:00:01.125451+01:00","closed_at":"2025-12-11T22:00:01.125452+01:00"}
{"id":"XcodeConsoleWatcher-pek","title":"Flag validation","description":"Validate mutually exclusive/dependent flags (dry-run-json vs tmux, machine-friendly implies ndjson, etc.).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:01:33.274427+01:00","updated_at":"2025-12-11T12:13:19.591197+01:00","closed_at":"2025-12-11T12:13:19.591197+01:00"}
{"id":"XcodeConsoleWatcher-q12","title":"Auto-gen README from help","description":"Generate README snippets/examples from kong metadata to keep docs in sync.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:02:23.417835+01:00","updated_at":"2025-12-11T12:24:01.678229+01:00","closed_at":"2025-12-11T12:24:01.678229+01:00"}
{"id":"XcodeConsoleWatcher-q7b","title":"Release v0.19.9","description":"Cut patch release for watch cutoffs + integration test.\n\nAcceptance:\n- CHANGELOG.md has 0.19.9 section with date.\n- Version constant updated.\n- Tag v0.19.9 pushed.\n- Release workflow succeeds and Homebrew formula updates.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T01:28:38.72716+01:00","updated_at":"2025-12-15T01:38:57.008231+01:00","closed_at":"2025-12-15T01:38:57.008231+01:00","comments":[{"id":50,"issue_id":"XcodeConsoleWatcher-q7b","author":"vedranburojevic","text":"Released v0.19.9.\n\nVerification:\n- go test ./...\n- GitHub Actions Release workflow: 20216794319 (success)\n- Homebrew formula updated (vburojevic/homebrew-tap: Formula/xcw.rb version 0.19.9)","created_at":"2025-12-15T00:38:51Z"}]}
{"id":"XcodeConsoleWatcher-q7i","title":"Release v0.19.11","description":"Cut patch release after expanding xcw examples coverage.\n\nAcceptance:\n- CHANGELOG.md has 0.19.11 section with date.\n- Version constant updated.\n- Tag v0.19.11 pushed.\n- Release workflow succeeds and Homebrew formula updates.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T01:56:44.359866+01:00","updated_at":"2025-12-15T02:04:14.939726+01:00","closed_at":"2025-12-15T02:04:14.939726+01:00","comments":[{"id":55,"issue_id":"XcodeConsoleWatcher-q7i","author":"vedranburojevic","text":"Released v0.19.11: tag pushed, GitHub Actions Release succeeded (run 20217120802), Homebrew formula updated to 0.19.11.","created_at":"2025-12-15T01:04:14Z"}]}
{"id":"XcodeConsoleWatcher-rmg","title":"Expand --where filtering","description":"Support numeric comparisons for pid/tid and improve escaping/quoting so values can contain operators.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.266614+01:00","updated_at":"2025-12-11T22:00:01.12672+01:00","closed_at":"2025-12-11T22:00:01.126721+01:00"}
{"id":"XcodeConsoleWatcher-t30","title":"Refactor filter/format parsing","description":"Extract shared flag handling for tail/query/watch/analyze into helper to reduce drift.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T11:00:54.771843+01:00","updated_at":"2025-12-11T12:08:55.290991+01:00","closed_at":"2025-12-11T12:08:55.290991+01:00"}
{"id":"XcodeConsoleWatcher-t4j","title":"Help: cover remaining commands + output types","description":"Expand {\n  \"type\": \"documentation\",\n  \"version\": \"0.18.0\",\n  \"purpose\": \"iOS Simulator log streaming CLI optimized for AI agents. Outputs structured NDJSON for real-time and historical log access.\",\n  \"primary_command\": \"tail\",\n  \"agent_guidance\": \"ALWAYS START WITH: xcw tail -s \\u003csimulator\\u003e -a \\u003cbundle_id\\u003e. This is THE primary command for monitoring iOS app logs. Run 'xcw list' to get simulator names, and 'xcw apps' to get bundle IDs. Only use other commands (query, watch, analyze) for specific use cases AFTER you've tried tail. The 'query' command reads from macOS system logs and is only useful when you forgot to start tail. Tmux (--tmux) is for human visual monitoring; AI agents should use stdout or --output instead.\",\n  \"quick_start\": {\n    \"analyze_session\": \"xcw analyze $(xcw sessions show --latest)\",\n    \"check_setup\": \"xcw doctor\",\n    \"discover_log_sources\": \"xcw discover -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m\",\n    \"filter_by_expr\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --where '(level=error OR level=fault) AND message~timeout'\",\n    \"filter_by_field\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --where level=error\",\n    \"list_apps\": \"xcw apps -s \\\"iPhone 17 Pro\\\"\",\n    \"list_simulators\": \"xcw list\",\n    \"machine_friendly\": \"xcw --machine-friendly tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n    \"record_to_file\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --session-dir ~/.xcw/sessions\",\n    \"stream_logs\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\"\n  },\n  \"commands\": {\n    \"analyze\": {\n      \"description\": \"Analyze a recorded NDJSON log file\",\n      \"usage\": \"xcw analyze FILE [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw analyze session.ndjson\",\n          \"description\": \"Analyze recorded logs\"\n        }\n      ],\n      \"output_types\": [\n        \"analysis\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"tail\",\n        \"replay\"\n      ]\n    },\n    \"apps\": {\n      \"description\": \"List installed apps on a simulator\",\n      \"usage\": \"xcw apps -s SIMULATOR [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw apps -s \\\"iPhone 17 Pro\\\"\",\n          \"description\": \"All apps\"\n        },\n        {\n          \"command\": \"xcw apps -s \\\"iPhone 17 Pro\\\" --user-only\",\n          \"description\": \"User apps only\"\n        }\n      ],\n      \"output_types\": [\n        \"app\",\n        \"error\"\n      ]\n    },\n    \"discover\": {\n      \"description\": \"Discover what subsystems, categories, and processes exist in logs. Essential first step for understanding an app's logging landscape.\",\n      \"usage\": \"xcw discover -s SIMULATOR [-a APP] --since DURATION\",\n      \"examples\": [\n        {\n          \"command\": \"xcw discover -s \\\"iPhone 17 Pro\\\" --since 5m\",\n          \"description\": \"Discover all logs from last 5 minutes\"\n        },\n        {\n          \"command\": \"xcw discover -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 10m\",\n          \"description\": \"Discover logs for specific app\"\n        },\n        {\n          \"command\": \"xcw discover -b --since 1h --top-n 30\",\n          \"description\": \"More items, booted sim, 1 hour\"\n        }\n      ],\n      \"output_types\": [\n        \"discovery\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"tail\",\n        \"query\"\n      ]\n    },\n    \"doctor\": {\n      \"description\": \"Check system requirements and configuration\",\n      \"usage\": \"xcw doctor\",\n      \"examples\": [\n        {\n          \"command\": \"xcw doctor\",\n          \"description\": \"Run all checks\"\n        }\n      ],\n      \"output_types\": [\n        \"doctor\",\n        \"error\"\n      ]\n    },\n    \"examples\": {\n      \"description\": \"Show usage examples for xcw commands\",\n      \"usage\": \"xcw examples [command] [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw examples\",\n          \"description\": \"All examples\"\n        },\n        {\n          \"command\": \"xcw examples tail\",\n          \"description\": \"Tail examples\"\n        },\n        {\n          \"command\": \"xcw examples --json\",\n          \"description\": \"Machine-readable\"\n        }\n      ]\n    },\n    \"launch\": {\n      \"description\": \"Launch an app and capture stdout/stderr (print statements). Use this when you need to see print() output that isn't captured by unified logging.\",\n      \"usage\": \"xcw launch -s SIMULATOR -a APP [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw launch -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n          \"description\": \"Launch and capture stdout/stderr\"\n        },\n        {\n          \"command\": \"xcw launch -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --terminate-existing\",\n          \"description\": \"Terminate existing instance first\"\n        },\n        {\n          \"command\": \"xcw launch -b -a com.example.myapp\",\n          \"description\": \"Launch on booted simulator\"\n        }\n      ],\n      \"output_types\": [\n        \"console\",\n        \"info\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"tail\",\n        \"apps\"\n      ]\n    },\n    \"list\": {\n      \"description\": \"List available iOS Simulators\",\n      \"usage\": \"xcw list [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw list\",\n          \"description\": \"All simulators\"\n        },\n        {\n          \"command\": \"xcw list --booted-only\",\n          \"description\": \"Only running simulators\"\n        }\n      ],\n      \"output_types\": [\n        \"simulator\",\n        \"error\"\n      ]\n    },\n    \"query\": {\n      \"description\": \"Query historical logs from iOS Simulator (use -a unless --predicate/--all)\",\n      \"usage\": \"xcw query -s SIMULATOR [-a APP] --since DURATION [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m\",\n          \"description\": \"Last 5 minutes\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m -l error\",\n          \"description\": \"Errors only\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 10m --analyze\",\n          \"description\": \"With pattern analysis\"\n        },\n        {\n          \"command\": \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 10m --where '(level=error OR level=fault) AND message~timeout'\",\n          \"description\": \"Where expression\"\n        }\n      ],\n      \"output_types\": [\n        \"log\",\n        \"analysis\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"tail\",\n        \"analyze\"\n      ]\n    },\n    \"replay\": {\n      \"description\": \"Replay a recorded NDJSON log file with timing\",\n      \"usage\": \"xcw replay FILE [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw replay session.ndjson\",\n          \"description\": \"Replay with original timing\"\n        },\n        {\n          \"command\": \"xcw replay session.ndjson --speed 2\",\n          \"description\": \"2x speed\"\n        }\n      ],\n      \"output_types\": [\n        \"log\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"analyze\",\n        \"tail\"\n      ]\n    },\n    \"schema\": {\n      \"description\": \"Output JSON Schema for xcw output types\",\n      \"usage\": \"xcw schema [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw schema\",\n          \"description\": \"Full schema\"\n        },\n        {\n          \"command\": \"xcw schema --type log,error\",\n          \"description\": \"Specific types\"\n        }\n      ]\n    },\n    \"sessions\": {\n      \"description\": \"Manage session log files\",\n      \"usage\": \"xcw sessions [list|show|clean]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw sessions list\",\n          \"description\": \"List recent sessions\"\n        },\n        {\n          \"command\": \"xcw sessions show --latest\",\n          \"description\": \"Path to latest session\"\n        },\n        {\n          \"command\": \"xcw sessions clean --keep 10\",\n          \"description\": \"Keep 10 most recent\"\n        }\n      ],\n      \"output_types\": [\n        \"session\",\n        \"info\",\n        \"error\"\n      ]\n    },\n    \"tail\": {\n      \"description\": \"Stream real-time logs from iOS Simulator (use -a unless --predicate/--all)\",\n      \"usage\": \"xcw tail -s SIMULATOR [-a APP] [flags]\",\n      \"examples\": [\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n          \"description\": \"Basic streaming to stdout\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --tmux\",\n          \"description\": \"Background with tmux (returns session name)\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --output file.ndjson\",\n          \"description\": \"Stream to file\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp -l error\",\n          \"description\": \"Only error/fault level\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --filter \\\"error|warn\\\"\",\n          \"description\": \"Filter by regex (alias for --pattern)\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --wait-for-launch\",\n          \"description\": \"Start capture before app launches (emits ready event)\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --where level=error\",\n          \"description\": \"Filter by field/expression (=, !=, ~, !~, \\u003e=, \\u003c=, ^, $, AND/OR/NOT, parentheses, /regex/i)\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --where '(level=error OR level=fault) AND message~timeout'\",\n          \"description\": \"Boolean where expression\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --where \\\"message~timeout\\\"\",\n          \"description\": \"Filter messages containing 'timeout'\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --dedupe\",\n          \"description\": \"Collapse repeated identical messages\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --process MyApp --process MyAppExtension\",\n          \"description\": \"Filter by process name\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp -x noise -x spam\",\n          \"description\": \"Exclude multiple patterns\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --session-idle 60s\",\n          \"description\": \"Force a new session boundary after 60s of inactivity\"\n        },\n        {\n          \"command\": \"xcw tail -s \\\"iPhone 17 Pro\\\" --predicate 'process == \\\\\\\"MyApp\\\\\\\"'\",\n          \"description\": \"Stream without -a using a raw predicate (advanced)\"\n        }\n      ],\n      \"output_types\": [\n        \"log\",\n        \"session_start\",\n        \"session_end\",\n        \"ready\",\n        \"summary\",\n        \"heartbeat\",\n        \"tmux\",\n        \"error\"\n      ],\n      \"related_commands\": [\n        \"query\",\n        \"watch\",\n        \"analyze\",\n        \"discover\"\n      ]\n    }\n  },\n  \"output_types\": {\n    \"analysis\": {\n      \"description\": \"Pattern analysis of logs\",\n      \"example\": {\n        \"known_pattern_count\": 2,\n        \"new_pattern_count\": 1,\n        \"patterns\": [\n          {\n            \"count\": 3,\n            \"is_new\": true,\n            \"pattern\": \"Connection failed\"\n          }\n        ],\n        \"schemaVersion\": 1,\n        \"summary\": {\n          \"errorCount\": 5,\n          \"totalCount\": 100\n        },\n        \"type\": \"analysis\"\n      },\n      \"when\": \"When --analyze flag is used with query or analyze command\"\n    },\n    \"app\": {\n      \"description\": \"Installed app information\",\n      \"example\": {\n        \"app_type\": \"user\",\n        \"bundle_id\": \"com.example.myapp\",\n        \"name\": \"MyApp\",\n        \"schemaVersion\": 1,\n        \"type\": \"app\",\n        \"version\": \"1.0.0\"\n      },\n      \"when\": \"From xcw apps command\"\n    },\n    \"clear_buffer\": {\n      \"description\": \"Instructs consumers to reset caches at a session boundary (start/end/idle rollover).\",\n      \"example\": {\n        \"reason\": \"session_start\",\n        \"schemaVersion\": 1,\n        \"session\": 2,\n        \"tail_id\": \"tail-abc\",\n        \"type\": \"clear_buffer\"\n      },\n      \"when\": \"Immediately after session_start/session_end/idle rollover in NDJSON mode\"\n    },\n    \"console\": {\n      \"description\": \"Console output (stdout/stderr) from xcw launch. Captures print() statements not available via unified logging.\",\n      \"example\": {\n        \"message\": \"Hello from print()\",\n        \"process\": \"com.example.myapp\",\n        \"schemaVersion\": 1,\n        \"stream\": \"stdout\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"type\": \"console\"\n      },\n      \"when\": \"Each line of stdout/stderr from xcw launch\"\n    },\n    \"cutoff_reached\": {\n      \"description\": \"Emitted when max-duration or max-logs cutoff stops streaming.\",\n      \"example\": {\n        \"reason\": \"max_duration\",\n        \"schemaVersion\": 1,\n        \"session\": 2,\n        \"tail_id\": \"tail-abc\",\n        \"total_logs\": 500,\n        \"type\": \"cutoff_reached\"\n      },\n      \"when\": \"When cutoff thresholds are hit\"\n    },\n    \"discovery\": {\n      \"description\": \"Log discovery results showing subsystems, categories, processes, and levels\",\n      \"example\": {\n        \"app\": \"com.example.myapp\",\n        \"categories\": [\n          {\n            \"count\": 300,\n            \"name\": \"network\"\n          }\n        ],\n        \"levels\": {\n          \"debug\": 700,\n          \"error\": 80,\n          \"info\": 350\n        },\n        \"processes\": [\n          {\n            \"count\": 800,\n            \"name\": \"MyApp\"\n          }\n        ],\n        \"schemaVersion\": 1,\n        \"subsystems\": [\n          {\n            \"count\": 450,\n            \"levels\": {\n              \"debug\": 300,\n              \"error\": 50,\n              \"info\": 100\n            },\n            \"name\": \"com.example.myapp\"\n          }\n        ],\n        \"time_range\": {\n          \"end\": \"2024-01-15T10:30:45Z\",\n          \"start\": \"2024-01-15T10:25:45Z\"\n        },\n        \"total_count\": 1250,\n        \"type\": \"discovery\"\n      },\n      \"when\": \"From xcw discover command\"\n    },\n    \"doctor\": {\n      \"description\": \"System diagnostic report\",\n      \"example\": {\n        \"all_passed\": true,\n        \"checks\": [\n          {\n            \"message\": \"Xcode 16.0 found\",\n            \"name\": \"Xcode\",\n            \"status\": \"ok\"\n          },\n          {\n            \"message\": \"1 booted simulator\",\n            \"name\": \"Simulator\",\n            \"status\": \"ok\"\n          }\n        ],\n        \"error_count\": 0,\n        \"schemaVersion\": 1,\n        \"type\": \"doctor\",\n        \"warn_count\": 1\n      },\n      \"when\": \"From xcw doctor command\"\n    },\n    \"error\": {\n      \"description\": \"Error from xcw (not the app being monitored)\",\n      \"example\": {\n        \"code\": \"DEVICE_NOT_FOUND\",\n        \"message\": \"Simulator 'iPhone 99' not found\",\n        \"schemaVersion\": 1,\n        \"type\": \"error\"\n      },\n      \"when\": \"When xcw encounters an error\"\n    },\n    \"heartbeat\": {\n      \"description\": \"Keepalive message for stream health\",\n      \"example\": {\n        \"contract_version\": 1,\n        \"last_seen_timestamp\": \"2024-01-15T10:30:44.999Z\",\n        \"latest_session\": 2,\n        \"logs_since_last\": 42,\n        \"schemaVersion\": 1,\n        \"tail_id\": \"tail-abc\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"type\": \"heartbeat\",\n        \"uptime_seconds\": 300\n      },\n      \"when\": \"Periodically when --heartbeat is used\"\n    },\n    \"log\": {\n      \"description\": \"Individual log entry from iOS Simulator. Includes session number for tracking app relaunches.\",\n      \"example\": {\n        \"category\": \"network\",\n        \"level\": \"Error\",\n        \"message\": \"Connection failed: timeout\",\n        \"pid\": 1234,\n        \"process\": \"MyApp\",\n        \"schemaVersion\": 1,\n        \"session\": 1,\n        \"subsystem\": \"com.example.myapp\",\n        \"tail_id\": \"tail-abc\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"type\": \"log\"\n      },\n      \"when\": \"Each log entry during tail or query\"\n    },\n    \"metadata\": {\n      \"description\": \"Tool metadata emitted at start of tail for agents.\",\n      \"example\": {\n        \"commit\": \"none\",\n        \"contract_version\": 1,\n        \"schemaVersion\": 1,\n        \"type\": \"metadata\",\n        \"version\": \"0.10.0\"\n      },\n      \"when\": \"At tail start\"\n    },\n    \"ready\": {\n      \"description\": \"Signals that log capture is active and ready. Use with --wait-for-launch to start capturing before the app launches.\",\n      \"example\": {\n        \"app\": \"com.example.myapp\",\n        \"contract_version\": 1,\n        \"schemaVersion\": 1,\n        \"session\": 1,\n        \"simulator\": \"iPhone 17 Pro\",\n        \"tail_id\": \"tail-abc\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"type\": \"ready\",\n        \"udid\": \"ABC123-DEF456-...\"\n      },\n      \"when\": \"Immediately after log stream starts when --wait-for-launch is used\"\n    },\n    \"reconnect_notice\": {\n      \"description\": \"Signals that the log stream reconnected; agents should consider potential gaps.\",\n      \"example\": {\n        \"message\": \"reconnect_notice: reconnecting log stream\",\n        \"schemaVersion\": 1,\n        \"tail_id\": \"tail-abc\",\n        \"type\": \"reconnect_notice\"\n      },\n      \"when\": \"After reconnect attempts\"\n    },\n    \"session\": {\n      \"description\": \"Session file information\",\n      \"example\": {\n        \"name\": \"20241215-103045-com.example.myapp.ndjson\",\n        \"path\": \"~/.xcw/sessions/20241215-103045-com.example.myapp.ndjson\",\n        \"schemaVersion\": 1,\n        \"size\": 12345,\n        \"timestamp\": \"2024-12-15T10:30:45Z\",\n        \"type\": \"session\"\n      },\n      \"when\": \"From xcw sessions list/show commands\"\n    },\n    \"session_end\": {\n      \"description\": \"Emitted when an app session ends (before session_start when app relaunches). Contains summary of the ended session.\",\n      \"example\": {\n        \"pid\": 12345,\n        \"schemaVersion\": 1,\n        \"session\": 1,\n        \"summary\": {\n          \"duration_seconds\": 45,\n          \"errors\": 3,\n          \"faults\": 0,\n          \"total_logs\": 142\n        },\n        \"tail_id\": \"tail-abc\",\n        \"type\": \"session_end\"\n      },\n      \"when\": \"When xcw tail detects the app was relaunched (before session_start)\"\n    },\n    \"session_start\": {\n      \"description\": \"Emitted when a new app session begins. When alert='APP_RELAUNCHED', the app was relaunched (PID changed). AI agents should watch for this to know logs are from a fresh app instance.\",\n      \"example\": {\n        \"alert\": \"APP_RELAUNCHED\",\n        \"app\": \"com.example.myapp\",\n        \"binary_uuid\": \"C0FFEE-UUID\",\n        \"build\": \"2201\",\n        \"pid\": 67890,\n        \"previous_pid\": 12345,\n        \"schemaVersion\": 1,\n        \"session\": 2,\n        \"simulator\": \"iPhone 17 Pro\",\n        \"tail_id\": \"tail-abc\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"type\": \"session_start\",\n        \"udid\": \"ABC123-DEF456-...\",\n        \"version\": \"1.4.0\"\n      },\n      \"when\": \"When xcw tail detects the app was relaunched (PID changed)\"\n    },\n    \"simulator\": {\n      \"description\": \"Simulator device information\",\n      \"example\": {\n        \"name\": \"iPhone 17 Pro\",\n        \"runtime\": \"iOS 18.0\",\n        \"schemaVersion\": 1,\n        \"state\": \"Booted\",\n        \"type\": \"simulator\",\n        \"udid\": \"ABC123-DEF456-...\"\n      },\n      \"when\": \"From xcw list command\"\n    },\n    \"stats\": {\n      \"description\": \"Periodic stream diagnostics emitted alongside heartbeats (useful for detecting reconnects, parse drops, and backpressure)\",\n      \"example\": {\n        \"buffered\": 10,\n        \"channel_drops\": 0,\n        \"last_seen_timestamp\": \"2024-01-15T10:30:44.999Z\",\n        \"parse_drops\": 0,\n        \"reconnects\": 1,\n        \"schemaVersion\": 1,\n        \"session\": 2,\n        \"tail_id\": \"tail-abc\",\n        \"timestamp\": \"2024-01-15T10:30:45.123Z\",\n        \"timestamp_parse_drops\": 0,\n        \"type\": \"stats\"\n      },\n      \"when\": \"Periodically alongside heartbeat output (tail only)\"\n    },\n    \"summary\": {\n      \"description\": \"Log statistics summary\",\n      \"example\": {\n        \"errorCount\": 3,\n        \"errorRate\": 1.2,\n        \"faultCount\": 0,\n        \"hasErrors\": true,\n        \"hasFaults\": false,\n        \"schemaVersion\": 1,\n        \"tail_id\": \"tail-abc\",\n        \"totalCount\": 142,\n        \"type\": \"summary\"\n      },\n      \"when\": \"At end of tail, with --summary-interval, or in analysis\"\n    },\n    \"tmux\": {\n      \"description\": \"Tmux session information when --tmux is used\",\n      \"example\": {\n        \"attach\": \"tmux attach -t xcw-iphone-17-pro\",\n        \"schemaVersion\": 1,\n        \"session\": \"xcw-iphone-17-pro\",\n        \"type\": \"tmux\"\n      },\n      \"when\": \"Immediately when xcw tail --tmux is called\"\n    }\n  },\n  \"error_codes\": {\n    \"DEVICE_NOT_FOUND\": {\n      \"description\": \"Simulator not found by name or UDID\",\n      \"recovery\": \"Run 'xcw list' to see available simulators\"\n    },\n    \"FILE_NOT_FOUND\": {\n      \"description\": \"Input file not found\",\n      \"recovery\": \"Check file path exists\"\n    },\n    \"FILTER_REQUIRED\": {\n      \"description\": \"No source filter provided (refusing to run unfiltered by default)\",\n      \"recovery\": \"Provide -a/--app or --predicate, or pass --all to intentionally stream/query all logs\"\n    },\n    \"INVALID_DURATION\": {\n      \"description\": \"Duration parsing failed\",\n      \"recovery\": \"Use format like '5m', '1h', '30s'\"\n    },\n    \"INVALID_FILTER\": {\n      \"description\": \"Filter parsing/compilation failed\",\n      \"recovery\": \"Check regex/--where syntax; quote complex expressions\"\n    },\n    \"INVALID_FLAGS\": {\n      \"description\": \"--simulator and --booted used together\",\n      \"recovery\": \"Use only one of --simulator or --booted\"\n    },\n    \"INVALID_PATTERN\": {\n      \"description\": \"Regex pattern compilation failed\",\n      \"recovery\": \"Check regex syntax\"\n    },\n    \"LIST_APPS_FAILED\": {\n      \"description\": \"Failed to list apps\",\n      \"recovery\": \"Check simulator is booted\"\n    },\n    \"NO_BOOTED_SIMULATOR\": {\n      \"description\": \"No booted simulator when --booted used\",\n      \"recovery\": \"Boot a simulator in Xcode or use 'xcrun simctl boot'\"\n    },\n    \"QUERY_FAILED\": {\n      \"description\": \"Historical log query failed\",\n      \"recovery\": \"Check simulator is running\"\n    },\n    \"STREAM_FAILED\": {\n      \"description\": \"Log streaming failed\",\n      \"recovery\": \"Check simulator is running and accessible\"\n    },\n    \"TMUX_ERROR\": {\n      \"description\": \"tmux operation failed\",\n      \"recovery\": \"Check tmux is working: 'tmux list-sessions'\"\n    },\n    \"TMUX_NOT_INSTALLED\": {\n      \"description\": \"tmux not installed\",\n      \"recovery\": \"Install with 'brew install tmux'\"\n    },\n    \"TUI_FAILED\": {\n      \"description\": \"TUI exited with an error\",\n      \"recovery\": \"Rerun with -v for debug output or use 'xcw tail' for non-interactive streaming\"\n    }\n  },\n  \"workflows\": [\n    {\n      \"name\": \"codex_streaming\",\n      \"description\": \"Real-time log streaming for Codex/script-based agents\",\n      \"when\": \"Agent processes stdout line by line, reacting immediately to errors\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp\",\n        \"# Agent reads NDJSON lines from stdout\",\n        \"# Each line is a complete JSON object to parse\"\n      ]\n    },\n    {\n      \"name\": \"claude_code_background\",\n      \"description\": \"Background monitoring for Claude Code with on-demand queries\",\n      \"when\": \"Long-running session where agent does other work while logs stream\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --tmux\",\n        \"# Returns tmux session info immediately\",\n        \"# Agent continues with other work...\",\n        \"xcw query -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --since 5m -l error\",\n        \"# Query errors when needed\"\n      ]\n    },\n    {\n      \"name\": \"test_run_capture\",\n      \"description\": \"Capture logs during test run for analysis\",\n      \"when\": \"Need persistent log record for replay or sharing\",\n      \"steps\": [\n        \"xcw tail -s \\\"iPhone 17 Pro\\\" -a com.example.myapp --output test-run.ndjson\",\n        \"# Run tests...\",\n        \"# Stop with Ctrl+C\",\n        \"xcw analyze test-run.ndjson\"\n      ]\n    }\n  ],\n  \"contract\": [\n    \"use latest session only\",\n    \"match tail_id to current tail invocation\",\n    \"reset caches on clear_buffer/session_start/session_end\",\n    \"use newest rotated file unless comparing runs\"\n  ]\n} coverage to include the remaining top-level commands and their output types:\n- config (show/path/generate)\n- pick\n- completion\n- ui\n- summary\n- clear\n- version\n- update\n- logschema\n- handoff\n\nAcceptance:\n- docs/help.json is regenerated and tests pass.\n- Help JSON includes command entries and output_types for the above where applicable.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T01:45:04.725679+01:00","updated_at":"2025-12-15T01:49:33.173436+01:00","closed_at":"2025-12-15T01:49:33.173436+01:00","comments":[{"id":51,"issue_id":"XcodeConsoleWatcher-t4j","author":"vedranburojevic","text":"Expanded xcw help --json coverage:\n- Added docs for: version, update, summary, pick, ui, clear, config, completion, log-schema, handoff.\n- Documented additional output types: info, warning, version, update, config, config_path, pick, log_schema, handoff.\n\nVerification:\n- make fmt\n- make docs schema\n- go test ./...","created_at":"2025-12-15T00:49:28Z"}]}
{"id":"XcodeConsoleWatcher-wd5","title":"CLI: tail integration test via stub xcrun","description":"Add an integration-style test for TailCmd that uses a stub xcrun on PATH to simulate: simctl list devices, log stream output, and ensures tail exits cleanly with --max-logs (no real Xcode/Simulator required).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T23:53:16.405898+01:00","updated_at":"2025-12-15T00:09:03.894992+01:00","closed_at":"2025-12-15T00:09:03.894992+01:00","comments":[{"id":33,"issue_id":"XcodeConsoleWatcher-wd5","author":"vedranburojevic","text":"Starting implementation.","created_at":"2025-12-14T22:53:20Z"},{"id":34,"issue_id":"XcodeConsoleWatcher-wd5","author":"vedranburojevic","text":"Implemented stubbed xcrun tail test + fixed default max-level behavior (unset max-level now means no max).\\n\\nCommit: 8964aef\\nVerification: go test ./...","created_at":"2025-12-14T23:08:56Z"}]}
{"id":"XcodeConsoleWatcher-wiy","title":"Improve TUI scalability","description":"Optimize tui model filtering/stats updates; consider batching, incremental stats, virtualization.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.818305+01:00","updated_at":"2025-12-11T22:00:01.12413+01:00","closed_at":"2025-12-11T22:00:01.12413+01:00"}
{"id":"XcodeConsoleWatcher-wm5","title":"Release v0.19.13","description":"Ship docs/help updates for tail cutoffs (help --json, examples, README). Acceptance: bump Version, update CHANGELOG, run make docs schema + go test ./..., tag v0.19.13, verify Release workflow + Homebrew tap.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-15T06:59:24.521003+01:00","updated_at":"2025-12-15T07:01:37.499645+01:00","closed_at":"2025-12-15T07:01:37.499645+01:00","comments":[{"id":64,"issue_id":"XcodeConsoleWatcher-wm5","author":"vedranburojevic","text":"Released v0.19.13: tag pushed, GitHub Actions Release succeeded (run 20222106652), Homebrew formula updated to 0.19.13.","created_at":"2025-12-15T06:01:37Z"}]}
{"id":"XcodeConsoleWatcher-woa","title":"Consolidate filter pipeline across commands","description":"Use filter.Pipeline in watch/query/analyze to remove duplicate regex/where logic and keep behavior uniform.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:09.273459+01:00","updated_at":"2025-12-11T12:49:08.548567+01:00","closed_at":"2025-12-11T12:49:08.548567+01:00"}
{"id":"XcodeConsoleWatcher-xbz","title":"Watch: trigger NDJSON contract tests","description":"Add unit tests around WatchCmd.runTrigger to validate NDJSON event ordering and correlation (trigger + trigger_result + trigger_error), output capture/truncation, and exit_code/timed_out fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T23:47:40.23408+01:00","updated_at":"2025-12-14T23:49:23.848532+01:00","closed_at":"2025-12-14T23:49:23.848532+01:00","comments":[{"id":31,"issue_id":"XcodeConsoleWatcher-xbz","author":"vedranburojevic","text":"Starting implementation.","created_at":"2025-12-14T22:47:47Z"},{"id":32,"issue_id":"XcodeConsoleWatcher-xbz","author":"vedranburojevic","text":"Done in commit 9c7b9ff: added internal/cli/watch_trigger_test.go covering trigger + trigger_result correlation, failure emits trigger_error, and capture output truncation. Verified: go test ./...","created_at":"2025-12-14T22:49:18Z"}]}
{"id":"XcodeConsoleWatcher-xep","title":"Validate config types early","description":"Parse duration/enum strings into typed fields on load, validate, and emit structured config errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.609098+01:00","updated_at":"2025-12-11T22:00:01.125099+01:00","closed_at":"2025-12-11T22:00:01.125099+01:00"}
{"id":"XcodeConsoleWatcher-xx0","title":"Fix go directive/toolchain usage","description":"Update go.mod go directive to Go's expected format (e.g., go 1.25) and add toolchain go1.25.5 if pinning patch.","notes":"Updated go directive to 1.25 and added toolchain go1.25.5.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T21:27:15.858597+01:00","updated_at":"2025-12-11T21:28:34.600397+01:00","closed_at":"2025-12-11T21:28:34.600399+01:00"}
{"id":"XcodeConsoleWatcher-yav","title":"Upgrade --where to support boolean expressions","description":"Extend --where parsing to support OR/AND/NOT, parentheses, and regex literals (e.g. /timeout|crash/i). Preserve backward compatibility with existing clause syntax.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T17:37:08.237977+01:00","updated_at":"2025-12-14T18:04:00.799607+01:00","closed_at":"2025-12-14T18:04:00.799608+01:00"}
{"id":"XcodeConsoleWatcher-yix","title":"Centralize NDJSON error/warning contract","description":"Normalize all command error/warning emission to follow same NDJSON schema (code/message/hint) and exit code mapping.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T21:27:16.468318+01:00","updated_at":"2025-12-11T22:00:01.125778+01:00","closed_at":"2025-12-11T22:00:01.125778+01:00"}
{"id":"XcodeConsoleWatcher-yr5","title":"CI: fix golangci-lint Go version mismatch","description":"Switch golangci-lint action to install-mode=goinstall so it builds with the repo Go toolchain (1.25.5).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T00:15:33.617256+01:00","updated_at":"2025-12-15T00:21:03.225174+01:00","closed_at":"2025-12-15T00:21:03.225174+01:00","comments":[{"id":36,"issue_id":"XcodeConsoleWatcher-yr5","author":"vedranburojevic","text":"CI updated to build golangci-lint via goinstall (fixes Go version mismatch) and cleaned up newly-unblocked lint findings; CI is green again.\\n\\nCommits: 45e7770, 93b9bc0\\nGitHub Actions: CI run 20215711208 (success)","created_at":"2025-12-14T23:20:59Z"}]}
{"id":"XcodeConsoleWatcher-zf4","title":"Docs: require Beads CLI for task management","description":"Update AGENTS.md and CLAUDE.md to explicitly require using bd (Beads CLI) for task management, prefer --no-daemon, and avoid hand-editing .beads files.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-14T23:07:43.711358+01:00","updated_at":"2025-12-14T23:08:22.380782+01:00","closed_at":"2025-12-14T23:08:22.380782+01:00","comments":[{"id":14,"issue_id":"XcodeConsoleWatcher-zf4","author":"vedranburojevic","text":"Done in commit 618d9e2: updated AGENTS.md and CLAUDE.md to require Beads CLI (bd) for task management, prefer --no-daemon, and avoid hand-editing .beads files.","created_at":"2025-12-14T22:08:19Z"}]}
{"id":"XcodeConsoleWatcher-zka","title":"Session tracker observability","description":"Add verbose/debug NDJSON session_debug events or logs for tracker transitions when --verbose.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T12:38:26.712432+01:00","updated_at":"2025-12-11T12:49:24.684029+01:00","closed_at":"2025-12-11T12:49:24.684029+01:00"}
